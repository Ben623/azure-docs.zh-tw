---
title: 相應放大 Azure 資料總管叢集
description: 本文說明相應放大及相應的步驟在 Azure 資料總管叢集中根據變更的需求。
author: orspod
ms.author: orspodek
ms.reviewer: mblythe
ms.service: data-explorer
ms.topic: conceptual
ms.date: 06/30/2019
ms.openlocfilehash: 29bfcc42462a667850f0b2e1bbda3d29cd1597ab
ms.sourcegitcommit: 1e347ed89854dca2a6180106228bfafadc07c6e5
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 07/05/2019
ms.locfileid: "67571513"
---
# <a name="manage-cluster-horizontal-scaling-to-accommodate-changing-demand"></a>管理叢集水平調整以因應變動的需求

適當調整叢集的大小對 Azure 資料總管的效能來說非常重要。 但是，在叢集上的需求無法預測以絕對的精確度。 靜態的叢集大小可能會導致使用量過低或使用量過高，兩者都不適合。

更好的方法是*調整叢集的大小*，根據變更的需求新增或移除容量。 有兩個工作流程調整： 
* 水平調整，也稱為相應放大和縮小。
* 垂直調整，也稱為相應增加和減少。

這篇文章說明水平調整的工作流程。

水平縮放可讓您根據預先定義的規則與排程自動執行個體的數量。 這篇文章中所述，請在 Azure 入口網站中，指定您的自動調整規模設定，為您的叢集。

## <a name="steps-to-configure-horizontal-scaling"></a>若要設定水平調整的步驟

在 Azure 入口網站中，移至 資料總管叢集資源。 底下**設定**標題之下，選取**相應放大**。 

選取您想要的自動調整的方法：**手動調整規模**，**最佳化自動調整規模**或是**自訂自動調整規模**。

### <a name="manual-scale"></a>手動調整

手動調整是預設設定建立叢集。 這表示叢集不會自動變更的靜態叢集容量。 您可以選擇使用列靜態容量，而且不會變更直到下一次您將會變更設定的叢集中的擴充。

   ![手動調整方法](media/manage-cluster-horizontal-scaling/manual-scale-method.png)

### <a name="optimized-autoscale"></a>最佳化的自動調整規模

最佳化的自動調整是建議的自動調整的方法。 若要設定最佳化自動調整規模的步驟：

1. 選取最佳化自動調整選項和選擇較低的限制和叢集的執行個體的數量上限，這些限制之間進行自動調整。
2. 按一下 [儲存]。

   ![最佳化的自動調整方法](media/manage-cluster-horizontal-scaling/optimized-autoscale-method.png)

按一下儲存最佳化的自動調整機制會開始運作，而且之後的動作將會顯示叢集中的活動記錄檔中。 此自動調整方法在叢集效能和成本最佳化： 如果叢集將會開始取得使用量過低它將會調整中保留效能的相同和較低的成本，其中的狀態，而且叢集將會開始的狀態使用量過高，它將會相應放大以確定它的運作狀況良好

### <a name="custom-autoscale"></a>自訂自動調整規模

自訂的自動調整方法可讓您調整叢集會根據您指定的計量，以動態方式。 下圖顯示資料流程和步驟來設定自訂自動調整規模。 更多詳細資料，請依照下列圖形。

1. 在 **自動調整規模設定名稱**方塊中，提供一個名稱，例如*向外延展： 快取使用量*。 

   ![調整規則](media/manage-cluster-horizontal-scaling/custom-autoscale-method.png)

2. 針對**縮放模式**，選取**依據計量調整規模**。 此模式可提供動態調整。 您也可以選取**調整為特定執行個體計數**。

3. 選取  **+ 加入規則**。

4. 在右側的 [調整規則]  區段，提供每個設定的值。

    **準則**

    | 設定 | 描述和值 |
    | --- | --- |
    | **時間彙總** | 選取彙總準則，例如 [平均]  。 |
    | **計量名稱** | 選取調整大小作業依據的計量，例如 [快取使用率]  。 |
    | **時間粒紋統計資料** | 選擇 [平均]  、[最小值]  、[最大值]  ，或 [加總]  。 |
    | **運算子** | 選擇適當的選項，例如 [大於或等於]  。 |
    | **閾值** | 選擇適當的值。 比方說，快取使用量，如 80%是不錯的起點。 |
    | **持續時間 (分鐘)** | 選擇適當的時間長度，讓系統在計算計量時有所依據。 從預設的 10 分鐘開始。 |
    |  |  |

    **動作**

    | 設定 | 描述和值 |
    | --- | --- |
    | **作業** | 選擇相應縮小或相應放大的適當選項。 |
    | **執行個體計數** | 選擇滿足計量條件時，您欲新增或移除的節點或執行個體數。 |
    | **冷卻時間 (分鐘)** | 選擇調整大小作業間適當的時間間隔。 請從預設的五分鐘開始。 |
    |  |  |

5. 選取 [新增]  。

6. 在左側的 [執行個體限制]  中，提供每個設定的值。

    | 設定 | 描述和值 |
    | --- | --- |
    | **最低** | 執行個體數；無論使用率為何，您的叢集都不會調整到低於此數值。 |
    | **最大值** | 執行個體數；無論使用率為何，您的叢集都不會調整到高於此數值。 |
    | **預設值** | 預設執行個體數目。 如果有讀取資源計量的問題，則會使用此設定。 |
    |  |  |

7. 選取 [儲存]  。

您現在已為您的 Azure 資料總管叢集設定相應放大作業。 為相應縮小作業新增另一條規則。 如果您需要叢集調整問題，協助[開啟支援要求](https://portal.azure.com/#blade/Microsoft_Azure_Support/HelpAndSupportBlade/overview)在 Azure 入口網站中。

## <a name="next-steps"></a>後續步驟

* [監視 Azure 資料總管效能、 健全狀況和使用量計量](using-metrics.md)
* [管理叢集垂直調整](manage-cluster-vertical-scaling.md)適當調整大小的叢集。
