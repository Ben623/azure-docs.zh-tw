---
title: 連線至 Azure-Azure Logic Apps 與 IBM 大型主機上的 3270 應用程式
description: 整合及自動化 3270 螢幕導向的應用程式與 Azure 搭配使用 Azure Logic Apps 和 IBM 3270 連接器
services: logic-apps
ms.service: logic-apps
ms.suite: integration
author: ChristopherHouser
ms.author: chrishou
ms.reviewer: estfan, valthom
ms.topic: article
ms.date: 03/06/2019
tags: connectors
ms.openlocfilehash: 7388dc0c61dad9c31da0c178febcee4c8481bc50
ms.sourcegitcommit: 41ca82b5f95d2e07b0c7f9025b912daf0ab21909
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/13/2019
ms.locfileid: "60538797"
---
# <a name="integrate-3270-screen-driven-apps-on-ibm-mainframes-with-azure-by-using-azure-logic-apps-and-ibm-3270-connector"></a>使用 Azure Logic Apps 和 IBM 3270 連接器與 Azure 整合 3270 應用 IBM 大型主機上的畫面驅動程式

> [!NOTE]
> 此連接器處於[*公開預覽*](https://azure.microsoft.com/support/legal/preview-supplemental-terms/)。 

有了 Azure Logic Apps 和 IBM 3270 連接器，您可以存取及執行 IBM 大型主機應用程式，通常是磁碟機透過瀏覽 3270 的模擬器畫面。 如此一來，您可以整合您的 IBM 大型主機應用程式與 Azure、 Microsoft 和其他應用程式、 服務和系統藉由使用 Azure Logic Apps 中建立自動化工作流程。 連接器會使用 TN3270 通訊協定與 IBM 大型主機通訊，並會在 Azure Government 及 Azure 中國 21Vianet 除外的所有 Azure Logic Apps 區域內上市。 如果您不熟悉邏輯應用程式，請檢閱[什麼是 Azure Logic Apps？](../logic-apps/logic-apps-overview.md)

本文說明使用 3270 連接器的下列層面： 

* 為何要使用 Azure Logic Apps 和連接器的 3270 螢幕導向的應用程式的執行方式中的 IBM 3270 連接器

* 必要條件和安裝程式使用 3270 連線

* 將 3270 連接器動作新增至您的邏輯應用程式步驟

## <a name="why-use-this-connector"></a>為何要使用此連接器？

若要存取 IBM 大型主機上的應用程式，您通常會使用 3270 終端機模擬器，通常稱為 「 綠色螢幕 」。 這個方法是經得起時間考驗的方法，但有限制。 雖然 Host Integration Server (HIS) 可協助您直接使用這些應用程式，有時候，區隔的螢幕和商務邏輯可能不會。 或者，也許您不再需要的裝載應用程式的運作方式的資訊。

若要擴充這些案例，Azure Logic Apps 中的 IBM 3270 連接器的運作方式與 3270 設計工具，可用來記錄，或 「 擷取 」，用於特定工作的主應用程式畫面、 定義透過您的大型主機應用程式，該工作的瀏覽流程以及定義具有輸入和輸出參數針對該工作的方法。 設計工具會將該資訊轉換成 3270 連接器時呼叫動作從邏輯應用程式代表該工作所使用的中繼資料。

從設計工具產生的中繼資料檔案之後，您會新增到整合帳戶在 Azure 中的該檔案。 如此一來，邏輯應用程式可以存取您的應用程式中繼資料時加入 3270 連接器動作。 連接器讀取中繼資料檔從您的整合帳戶，會處理透過 3270 畫面中，瀏覽及動態呈現 3270 連接器動作的參數。 然後，您就可以提供資料至主應用程式和連接器會將結果傳回您的邏輯應用程式。 這樣一來，您可以使用 Azure、 Microsoft 和其他應用程式、 服務和 Azure Logic Apps 支援的系統整合您的舊版應用程式。

## <a name="prerequisites"></a>先決條件

* Azure 訂用帳戶。 如果您沒有 Azure 訂用帳戶，請先<a href="https://azure.microsoft.com/free/" target="_blank">註冊免費的 Azure 帳戶</a>。

* [如何建立邏輯應用程式](../logic-apps/quickstart-create-first-logic-app-workflow.md)的基本知識

* 建議使用：[Integration service 環境 (ISE)](../logic-apps/connect-virtual-network-vnet-isolated-environment.md) 

  您可以選取此環境，做為建立和執行邏輯應用程式的位置。 ISE 可從邏輯應用程式存取受到 Azure 虛擬網路內的資源。

* 若要使用自動化和執行 3270 螢幕驅動應用程式邏輯應用程式

  IBM 3270 連接器沒有觸發程序，因此使用另一個觸發程序啟動邏輯應用程式，例如**循環**觸發程序。 然後，您可以加入 3270 連接器動作。 若要開始，[建立空白邏輯應用程式](../logic-apps/quickstart-create-first-logic-app-workflow.md)。 
  如果您使用 ISE，請選取該 ISE 做為邏輯應用程式的位置。

* [下載並安裝 3270 設計工具](https://aka.ms/3270-design-tool-download)。
是唯一的先決條件[Microsoft.NET Framework 4.6.1](https://aka.ms/net-framework-download)。

  此工具會幫助您記錄在您的應用程式，您將加入並執行 3270 連接器動作中的畫面、 導覽路徑、 方法和參數的工作。 此工具會產生提供必要的中繼資料的連接器來推動您的大型主機應用程式所使用的主機整合設計工具 XML (HIDX) 檔案。
  
  下載並安裝後這項工具，請遵循下列步驟來連接到您的主機：

  1. 開啟 3270 設計工具。 從**工作階段**功能表上，選取**主應用程式工作階段**。
  
  1. 提供您 TN3270 的主機伺服器的資訊。

* [整合帳戶](../logic-apps/logic-apps-enterprise-integration-create-integration-account.md)，這是您儲存 HIDX 檔案為地圖讓邏輯應用程式可以存取的中繼資料和方法的定義，該檔案中的位置。 

  請確定您的整合帳戶連結到您使用的邏輯應用程式。 此外，如果您使用 ISE，請確定您的整合帳戶的位置是您的邏輯應用程式使用相同 ISE。

* TN3270 伺服器裝載您的大型主機應用程式的存取權

<a name="define-app-metadata"></a>

## <a name="create-metadata-overview"></a>建立中繼資料概觀

3270 螢幕驅動應用程式中，螢幕和資料欄位是唯一您案例中，因此 3270 連接器需要您的應用程式，您可以提供做為中繼資料的相關資訊。 此中繼資料描述資訊可協助您邏輯應用程式識別，並辨識螢幕、 說明如何瀏覽不同畫面，輸入資料，以及預期結果的位置。 若要指定，並產生此中繼資料，您可以使用 3270 設計工具，引導您完成這些特定*模式*，或階段中，如需詳細資訊稍後所述：

* **擷取**:在此模式中，您記錄完成大型主機應用程式，例如，特定工作所需的畫面取得銀行取得平衡。

* **瀏覽**:在此模式中，您可以指定方案或如何瀏覽大型主機應用程式的畫面，針對特定工作的路徑。

* **方法**:在此模式中，您將方法定義，例如`GetBalance`，描述螢幕導覽路徑。 您也可以選擇每個畫面上，成為該方法的輸入和輸出參數的欄位。

### <a name="unsupported-elements"></a>不支援的項目

設計工具不支援這些項目：

* 部分 IBM 基本對應支援 (BMS) 對應：如果您匯入 BMS 地圖，設計工具會忽略部分螢幕定義。
* In/Out 參數：您無法定義 In/Out 參數。
* 功能表處理：預覽期間不支援
* 陣列處理：預覽期間不支援

<a name="capture-screens"></a>

## <a name="capture-screens"></a>擷取畫面

在此模式中，您會標示每個唯一識別該畫面的 3270 畫面上的項目。 例如，您可以指定文字行或一組更複雜的條件，例如特定的文字和非空白欄位。 您可以透過即時連線到主機伺服器，記錄這些畫面，或從 IBM 基本對應支援 (BMS) 對應匯入這項資訊。 即時連接使用 TN3270 模擬器連線到主機。 每個連接器動作必須對應至單一工作，以連接到您的工作階段開始和結束都與您的工作階段中斷連線。

1. 如果您還沒有這麼做，請開啟 3270 設計工具。 在工具列上，選擇**擷取**，讓您輸入擷取模式。

1. 若要開始錄製，請按 F5 鍵，或從**錄製**功能表上，選取**開始錄製**。 

1. 從**工作階段**功能表上，選取**Connect**。

1. 在 [**擷取**] 窗格中，從您的應用程式，逐步執行您的應用程式，針對您正在錄製的特定工作中的第一個畫面。

1. 完成工作之後，請登出您的應用程式通常會執行。

1. 從**工作階段**功能表上，選取**中斷連線**。

1. 若要停止錄製，請按 Shift + F5 鍵，或從**錄製**功能表上，選取**停止錄製**。

   擷取工作的畫面之後，設計工具會顯示代表這些畫面的縮圖。 關於這些縮圖的一些注意事項：

   * 隨附於您所擷取的畫面，就名為"Empty"的畫面。

     當您第一次連接到[CICS](https://www.ibm.com/it-infrastructure/z/cics)，您可以輸入您想要執行的交易名稱之前，您必須傳送"Clear"的索引鍵。 您用來傳送"Clear"的索引鍵的畫面不具有任何*辨識屬性*，例如螢幕標題，您可以使用螢幕辨識編輯器新增。 若要表示此畫面，縮圖會包含名為 「 空白 」 畫面。 您稍後可以使用此畫面來表示螢幕輸入交易名稱的位置。

   * 根據預設，擷取的螢幕的名稱會在螢幕上使用的第一個字。 如果該名稱已經存在，設計工具會附加底線與號碼，例如 「 WBGB"和"WBGB_1 」 的名稱。

1. 若要擷取的畫面提供更有意義的名稱，請遵循下列步驟：

   1. 在 [**主畫面**] 窗格中，選取您想要重新命名的畫面。

   1. 在同一個窗格中，在相同的窗格中，底部附近尋找**螢幕名稱**屬性。

   1. 變更目前的畫面名稱更具描述性的名稱。

1. 現在，請指定用來識別每個畫面的欄位。

   有的 3270 資料流，因此您必須選取每個畫面上的唯一文字畫面時，不需要預設識別碼。 複雜的情況下，您可以指定多個條件，例如，特定文字和具有特定條件的欄位。

在您完成選取辨識欄位之後，請移至下一步 的模式。

### <a name="conditions-for-identifying-repeated-screens"></a>用來識別重複的畫面的條件

瀏覽並區分螢幕之間的連接器，您通常找到唯一的文字上一個畫面，您可以用來當做識別碼之間的擷取畫面。 對於重複螢幕，您可能需要更多的識別方法。 例如，假設您有兩個畫面的外觀相同但一個畫面會傳回有效的值，而其他畫面會傳回錯誤訊息。

在設計工具 中，您可以加入*辨識屬性*，比方說，「 取得帳戶平衡 」，例如螢幕標題使用畫面辨識編輯器。 如果您有一個分支的路徑和兩個分支會傳回相同的畫面，但是具有不同的結果，您會需要其他辨識屬性。 在執行階段，連接器可以使用這些屬性來判斷最新分支和分支。 以下是您可以使用的條件：

* 特定的值：此值符合指定的字串，在指定的位置。
* 指定的值：此值不符合指定的字串，在指定的位置。
* 空白：此欄位是空的。
* 不是空白：此欄位不是空的。

若要進一步了解，請參閱[範例導覽計劃](#example-plan)本主題稍後的。

<a name="define-navigation"></a>

## <a name="define-navigation-plans"></a>定義導覽的計劃

在此模式中，您可以定義流程或瀏覽您的特定工作的大型主機應用程式的畫面的步驟。 比方說，某些情況下，您可能會有您的應用程式可能需要其中一個路徑會產生正確的結果，而在另一個路徑會產生錯誤的多個路徑。 針對每個畫面上，指定 移動至下一個畫面中，例如所需的按鍵`CICSPROD <enter>`。

> [!TIP]
> 如果您想要自動化幾項工作會使用相同的連接，並中斷連線的螢幕，設計工具會提供特殊連接和中斷連線的計劃類型。 當您定義這些計劃時，則您可以將它們加入您的瀏覽計劃的開頭和結尾。

### <a name="guidelines-for-plan-definitions"></a>計畫定義的指導方針

* 包含所有的畫面，開頭為連接，且結尾中斷連接。

* 您可以建立獨立方案，或使用連線及中斷連線 」 方案，可讓您重複使用一系列的畫面通用於您所有的交易。

  * 連接計劃中的最後一個畫面必須是同一個畫面的第一個畫面，瀏覽計劃中。

  * 在您中斷連線的計劃中的第一個畫面必須是同一個畫面的最後一個畫面，瀏覽計劃中。

* 擷取的畫面可能包含許多重複的畫面，因此，請選取和計劃中使用的任何重複的畫面的只有一個執行個體。 以下是重複的畫面的一些範例：

  * 登入畫面上，例如**MSG-10**畫面
  * CICS 的 [歡迎] 畫面
  * 「 清除 」 或**空**畫面

<a name="create-plans"></a>

### <a name="create-plans"></a>建立計劃

1. 3270 設計工具的工具列上，選擇**瀏覽**，讓您輸入瀏覽模式。

1. 若要啟動您的方案，在**瀏覽**窗格中，選擇**新的計劃**。

1. 底下**選擇新的計劃名稱**，輸入您的計劃的名稱。 從**型別**清單中，選取計劃類型：

   | 計劃類型 | 描述 |
   |-----------|-------------|
   | **處理程序** | 獨立或合併計劃 |
   | **連線** | 連接計劃 |
   | **中斷連線** | 中斷連線的計劃 |
   |||

1. 從**主畫面**窗格中，瀏覽計劃來擷取縮圖會出現在拖曳**瀏覽**窗格。

   若要表示空白畫面，您可以在此輸入交易名稱，使用 「 空白 」 畫面。

1. 排列描述您正在定義的工作順序中的畫面。

1. 若要定義的資料流程路徑，包括分岔和聯結，在設計工具的工具列上的螢幕之間選擇**流程**。

1. 在流程中，選擇第一個畫面。 拖曳並繪製連接資料流程中下一個畫面。

1. 每個畫面，提供值給**輔助按鍵**屬性 （注意識別碼） 以及**固定文字**屬性，會將流量移至下一個畫面。

   您可能只是輔助索引鍵，或同時協助與金鑰固定的文字。

在您完成您的瀏覽計劃之後，您可以[在下一步 模式中定義方法](#define-method)。

<a name="example-plan"></a>

### <a name="example"></a>範例

在此範例中，假設您執行的 CICS 交易，名為"WBGB 」 具有下列步驟： 

* 在第一個畫面上，您可以輸入名稱和帳戶。
* 在第二個畫面上，您會取得帳戶餘額。
* 您結束 「 空白 」 畫面。
* 您登出 CICS"MSG-10"螢幕。

也假設您重複這些步驟，但您輸入不正確的資料，讓您可以擷取的畫面會顯示錯誤。 以下是您所擷取的畫面：

* MSG-10
* CICS 歡迎畫面
* 空白
* WBGB_1 （輸入）
* WBGB_2 （錯誤）
* Empty_1
* MSG-10_1

雖然許多畫面取得唯一的名稱，但某些畫面為相同的畫面，例如"MSG-10"和"空"。 重複的畫面中，使用該畫面的計劃中只有一個執行個體。 以下是範例，說明獨立方案、 Connect 計劃、 中斷連線的計劃和合併的計劃可能的樣子：

* 獨立方案

  ![獨立瀏覽方案](./media/connectors-create-api-3270/standalone-plan.png)

* 連接計劃

  ![連接計劃](./media/connectors-create-api-3270/connect-plan.png)

* 中斷連線的計劃

  ![中斷連線的計劃](./media/connectors-create-api-3270/disconnect-plan.png)

* 合併的計劃

  ![合併的計劃](./media/connectors-create-api-3270/combined-plan.png)

#### <a name="example-identify-repeated-screens"></a>範例：識別重複的畫面

瀏覽並區分畫面連接器，您通常找到的唯一文字，您可以使用做為識別項，到擷取螢幕畫面上。 對於重複螢幕，您可能需要更多的識別方法。 範例方案有 「 分叉 」，您可以在其中取得類似的畫面。 一個畫面會傳回帳戶餘額，而其他畫面會傳回錯誤訊息。

設計工具可讓您新增辨識屬性，例如，螢幕標題命名為 「 取得帳戶平衡 」，使用螢幕辨識編輯器。 在類似的畫面的情況下，您會需要其他屬性。 在執行階段，連接器可以使用這些屬性來判斷新分支和分支。

* 在分支，會傳回有效的輸入，也就是含有帳戶餘額的畫面，您可以加入具有 「 不是空的 」 條件的欄位。

* 在傳回錯誤的分支，您可以加入具有 「 空白 」 條件的欄位。

<a name="define-method"></a>

## <a name="define-methods"></a>定義方法

在此模式中，您可以定義您的瀏覽計劃相關聯的方法。 每個方法參數，您指定的資料類型，例如字串、 整數、 日期或時間等等。 當您完成時，您可以測試您即時的主機上的方法，並確認此方法會在如預期般運作。 您接著會產生中繼資料檔案或主機整合設計工具 XML (HIDX) 檔案，現在有用以建立和執行 IBM 3270 連接器動作的方法定義。

1. 3270 設計工具的工具列上，選擇**方法**，讓您輸入方法模式。 

1. 在 [**瀏覽**] 窗格中，選取具有您想要的輸入的欄位的畫面。

1. 若要新增您的方法的第一個輸入的參數，請遵循下列步驟：

   1. 在 [**擷取**] 窗格中的，在 3270 模擬器畫面上，選擇整個欄位，不只是文字欄位中，您要做為第一個輸入。

      > [!TIP]
      > 顯示所有欄位，並確定您在上，選取 [完成] 欄位中，**檢視**功能表上，選取**所有欄位**。

   1. 在設計工具的工具列上選擇**輸入欄位**。 

   若要新增更多的輸入的參數，請針對每個參數重複上述步驟。

1. 若要新增您的方法的第一個輸出參數，請遵循下列步驟：

   1. 在 [**擷取**] 窗格中的，在 3270 模擬器畫面上，選擇整個欄位，不只是文字欄位中，您要做為第一個輸出。

      > [!TIP]
      > 顯示所有欄位，並確定您在上，選取 [完成] 欄位中，**檢視**功能表上，選取**所有欄位**。

   1. 在設計工具的工具列上選擇**輸出欄位**。

   若要新增更多的輸出參數，請針對每個參數重複上述步驟。

1. 新增您方法的所有參數之後，定義每個參數的下列屬性：

   | 屬性名稱 | 可能的值 | 
   |---------------|-----------------|
   | **資料類型** | 位元組，日期時間、 Decimal、 Int、 Long、 簡單地說，字串 |
   | **欄位填滿技術** | 參數支援這些填滿類型，如有必要，填滿空格： <p><p>- **型別**:欄位中，依序輸入的字元。 <p>- **填滿**:欄位的內容取代為空白，必要時以填滿的字元。 <p>- **EraseEofType**:清除欄位，並以循序方式的欄位中輸入的字元。 |
   | **格式字串** | 某些參數資料類型使用的格式字串，會告知 3270 連接器如何將從螢幕的文字轉換成.NET 資料類型： <p><p>- **DateTime**:日期時間格式字串後面[.NET 自訂日期和時間格式字串](https://docs.microsoft.com/dotnet/standard/base-types/custom-date-and-time-format-strings)。 例如，日期`06/30/2019`使用格式字串`MM/dd/yyyy`。 <p>- **十進位**:會使用十進位格式字串[COBOL 的圖片子句](https://www.ibm.com/support/knowledgecenter/SS6SG3_5.2.0/com.ibm.cobol52.ent.doc/PGandLR/ref/rlddepic.html)。 例如，數字`100.35`使用格式字串`999V99`。 |
   |||

## <a name="save-and-view-metadata"></a>儲存及檢視中繼資料

定義您的方法之後但在測試方法之前，儲存您到目前為止定義 RAP (.rap) 檔案的所有資訊。
您可以將此 RAP 檔案儲存在任何模式的任何時間。 設計工具中也包含範例 RAP 檔案，您可以開啟並瀏覽至這個位置的設計工具的安裝資料夾，並開啟 「 WoodgroveBank.rap"檔案來檢閱：

`..\Program Files\Microsoft Host Integration Server - 3270 Design Tool\SDK\WoodgroveBank.rap`

不過，如果您嘗試將變更儲存到範例 RAP 檔案，或從範例 RAP 檔案產生 HIDX 檔案，而檔案也會保留在設計工具的安裝資料夾中，您可能會收到 「 拒絕存取 」 錯誤。 根據預設，設計工具會安裝在 Program Files 資料夾未提升權限。 如果您收到錯誤，請嘗試其中一個解決方案：

* 將範例檔案複製到不同的位置。
* 系統管理員身分執行的設計工具。
* 將自己的 SDK 資料夾的擁有者。

## <a name="test-your-method"></a>測試您的方法

1. 若要針對即時主應用程式，仍在 方法 模式中，執行您的方法按 F5 鍵，或從設計工具的工具列上，選擇 **執行**。

   > [!TIP]
   > 您可以隨時變更模式。 在 **檔案**功能表上，選取**模式**，然後選取您想要的模式。

1. 輸入您的參數值，然後選擇**確定**。

1. 若要繼續下一個畫面中，選擇**下一步**。

1. 當您完成時，選擇**完成**，其中顯示您的輸出參數值。

<a name="add-metadata-integration-account"></a>

## <a name="generate-and-upload-hidx-file"></a>產生並上傳 HIDX 檔案

當您準備好時，產生 HIDX 檔案，因此您可以上傳到整合帳戶。 3270 設計工具會將 HIDX 檔案建立新的子資料夾，儲存 RAP 檔案的位置。

1. 3270 設計工具的工具列上，選擇**產生的程式碼**。

1. 移至包含您 RAP 檔案的資料夾，並開啟此工具產生 HIDX 檔案之後所建立的子資料夾。 確認此工具建立 HIDX 檔案。

1. 登入[Azure 入口網站](https://portal.azure.com)，並尋找您的整合帳戶。

1. 為對應的 HIDX 檔案加入您的整合帳戶，藉由[遵循下列類似的步驟來新增對應](../logic-apps/logic-apps-enterprise-integration-liquid-transform.md)，但當您選取地圖類型，選取**HIDX**。

稍後在本主題中，當將 IBM 3270 動作新增至您的邏輯應用程式的第一次，系統會提示您提供連接資訊，例如您的整合帳戶和主機伺服器的名稱建立邏輯應用程式與主機伺服器之間的連線. 當您建立連線之後，您可以選取您先前加入的 HIDX 檔案、 方法執行，以及要使用的參數。

當您完成所有這些步驟時，您可以使用您建立邏輯應用程式連接到 IBM 大型主機，您的應用程式的磁碟機螢幕中的動作、 輸入資料，傳回的結果，等等。 您也可以繼續加入您的邏輯應用程式與其他應用程式、 服務和系統整合的其他動作。

<a name="run-action"></a>

## <a name="run-ibm-3270-actions"></a>執行 IBM 3270 動作

[!INCLUDE [Create connection general intro](../../includes/connectors-create-connection-general-intro.md)]

1. 登入 [Azure 入口網站](https://portal.azure.com)，如果邏輯應用程式尚未開啟，請在邏輯應用程式設計工具中開啟邏輯應用程式。

1. 在最後一個步驟中您要新增的動作，選擇**新的步驟**，然後選取**新增動作**。 

1. 在 [搜尋] 方塊中，選擇**企業**。 在 [搜尋] 方塊中，輸入 「 3270"作為篩選條件。 從 [動作] 清單中，選取此動作：**執行的大型主機程式透過 TN3270 連線**

   ![選取 3270 動作](./media/connectors-create-api-3270/select-3270-action.png)

   若要在步驟之間新增動作，將指標移至步驟之間的箭號。 
   選擇顯示的加號 ( **+** )，然後選取 [新增動作]  。

1. 如果沒有連接尚未存在，提供您的連線的必要資訊，然後選擇**建立**。

   | 屬性 | 必要項 | Value | 描述 |
   |----------|----------|-------|-------------|
   | 連線名稱  | 是 | <*connection-name*> | 您連線的名稱 |
   | **整合帳戶識別碼** | 是 | <*integration-account-name*> | 您的整合帳戶名稱 |
   | **整合帳戶 SAS URL** | 是 | <*integration-account-SAS-URL*> | 整合帳戶的共用存取簽章 (SAS) URL，您可以從 Azure 入口網站中的整合帳戶的設定產生。 <p>1.在您的整合帳戶 功能表底下**設定**，選取**回呼 URL**。 <br>2.在右窗格中，複製**產生的回呼 URL**值。 |
   | **伺服器** | 是 | <*TN3270-server-name*> | TN3270 服務的伺服器名稱 |
   | **連接埠** | 否 | <*TN3270-server-port*> | TN3270 伺服器所使用的連接埠。 如果保留空白，連接器會使用`23`做為預設值。 |
   | **裝置類型** | 否 | <*IBM-terminal-model*> | 模型名稱或編號 IBM 終端機模擬。 如果保留空白，則連接器會使用預設值。 |
   | **字碼頁** | 否 | <*code-page-number*> | 主機字碼頁編號。 如果保留空白，連接器會使用`37`做為預設值。 |
   | **邏輯單元名稱** | 否 | <*logical-unit-name*> | 特定邏輯單元名稱，從主應用程式要求 |
   | **是否啟用 SSL？** | 否 | 開啟或關閉 | 開啟或關閉 SSL 加密。 |
   | **驗證主機 ssl 憑證？** | 否 | 開啟或關閉 | 開啟或關閉伺服器的憑證驗證。 |
   ||||

   例如:

   ![連線屬性](./media/connectors-create-api-3270/connection-properties.png)

1. 提供動作的必要資訊：

   | 屬性 | 必要項 | Value | 描述 |
   |----------|----------|-------|-------------|
   | **Hidx 名稱** | 是 | <*HIDX-file-name*> | 選取您想要使用的 3270 HIDX 檔案。 |
   | **方法名稱** | 是 | <*method-name*> | 選取您想要使用 HIDX 檔案中的方法。 選取方法之後,**加入新參數**清單隨即出現，因此您可以選取要使用具有該方法的參數。 |
   ||||

   例如:

   **選取 HIDX 檔案**

   ![選取 HIDX 檔案](./media/connectors-create-api-3270/select-hidx-file.png)

   **選取的方法**

   ![選取方法](./media/connectors-create-api-3270/select-method.png)

   **選取的參數**

   ![選取的參數](./media/connectors-create-api-3270/add-parameters.png)

1. 當您完成時，儲存並執行您的邏輯應用程式。

   之後您的邏輯應用程式執行完成後，執行會顯示的步驟。 
   成功的步驟會顯示核取記號，而不成功的步驟會顯示字母"X"。

1. 若要檢閱的輸入和輸出的每個步驟，請展開該步驟。

1. 若要檢閱輸出，請選擇**查看原始輸出**。

## <a name="connector-reference"></a>連接器參考

如需觸發程序、 動作和限制的技術詳細資訊，其中會描述連接器的 OpenAPI (以前稱為 Swagger) 描述，檢閱[連接器的參考頁面](/connectors/si3270/)。

## <a name="get-support"></a>取得支援

* 如有問題，請瀏覽 [Azure Logic Apps 論壇](https://social.msdn.microsoft.com/Forums/en-US/home?forum=azurelogicapps)。

* 若要提交或票選功能構想，請造訪 [Logic Apps 使用者意見反應網站](https://aka.ms/logicapps-wish)。

## <a name="next-steps"></a>後續步驟

* 了解其他 [Logic Apps 連接器](../connectors/apis-list.md)
