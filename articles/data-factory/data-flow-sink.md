---
title: 設定 Azure Data factory 中對應的資料流的功能接收器轉換
description: 了解如何設定對應資料流程中的 「 接收 」 轉換。
author: kromerm
ms.author: makromer
ms.service: data-factory
ms.topic: conceptual
ms.date: 02/03/2019
ms.openlocfilehash: 4341cbb0e24330d535f5211c088f0068eab33af7
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/13/2019
ms.locfileid: "65596258"
---
# <a name="sink-transformation-for-a-data-flow"></a>接收資料流的轉換

[!INCLUDE [notes](../../includes/data-factory-data-flow-preview.md)]

轉換資料流之後，您就可以接收資料至目的地資料集。 在 「 接收 」 轉換中，選擇目的地輸出資料的資料集定義。 您可以為許多接收器轉換，因為在資料流程需要。

結構描述漂移和內送的資料變更的帳戶沒有輸出資料集中定義結構描述的資料夾中接收的輸出資料。 您可以也負責變更資料行在您的來源中選取**允許結構描述漂移**來源中。 然後自動對應所有欄位的接收中。

![[接收] 索引標籤，包括自動對應選項的選項](media/data-flow/sink1.png "接收 1")

若要接收傳入的所有欄位，開啟**自動對應**。 若要選擇的欄位，以接收到目的地，或變更目的地欄位的名稱，請關閉**自動對應**。 然後開啟**對應**對應輸出欄位的索引標籤。

![在 [對應] 索引標籤上的選項](media/data-flow/sink2.png "接收 2")

## <a name="output"></a>Output 
Azure blob 儲存體或 Data Lake 儲存體的接收類型，會輸出轉換的資料的資料夾。 Spark 會產生 「 接收 」 轉換使用的資料分割配置為基礎的資料分割的輸出資料檔案。 

您可以設定從資料分割配置**最佳化** 索引標籤。如果您想要您的輸出合併成單一檔案的資料處理站時，選取**單一資料分割**。

![在 [最佳化] 索引標籤上的選項](media/data-flow/opt001.png "接收選項")

## <a name="field-mapping"></a>欄位對應

在 [**對應**] 索引標籤上您接收的轉換，您可以將內送的資料行左側右邊的目的地。 當您接收資料流的檔案時，Data Factory 會一律會寫入資料夾的新檔案。 當您對應至資料庫資料集時，您可以產生新的資料表，藉由設定使用這個結構描述**儲存原則**要**覆寫**。 或在現有的資料表中插入新資料列，然後將欄位對應至現有的結構描述。 

![[對應] 索引標籤](media/data-flow/sink2.png "接收")

在對應資料表中，您可以連結多個資料行、 delink 多個資料行，或將多個資料列對應至相同的資料行名稱的多重選取。

若要一律對應到目標傳入一組欄位，並完全接受彈性結構描述定義中，選取**允許結構描述漂移**。

![[對應] 索引標籤，顯示對應至資料集內的資料行的欄位](media/data-flow/multi1.png "多個選項")

若要重設您的資料行對應，請選取**重新對應**。

![[接收] 索引標籤](media/data-flow/sink1.png "一個接收")

選取 **驗證結構描述**接收結構描述變更失敗。

選取 **清除資料夾**截斷接收資料夾的內容之前寫入目的地檔案的目標資料夾中。

## <a name="file-name-options"></a>檔案名稱選項

設定檔案命名： 

   * **預設值**：可讓 Spark 組件的預設值為根據檔案的名稱。
   * **模式**:輸入您的輸出檔案的模式。 例如，**貸款 [n]** 會建立 loans1.csv、 loans2.csv，等等。
   * **每個分割區**:輸入每個資料分割的一個檔案名稱。
   * **做為資料行中的資料**:輸出檔設為資料行的值。
   * **輸出至單一檔案**:使用此選項，ADF 會將資料分割的輸出檔案結合成一個名為檔案。 若要使用此選項，您的資料集應該解析為資料夾名稱。 此外，請留意這項合併作業可能無法根據節點大小。

> [!NOTE]
> 檔案作業開始，只有在您執行 「 執行資料流程的活動時。 不在資料工作流程進行偵錯模式中啟動。

## <a name="database-options"></a>資料庫選項

選擇資料庫設定：

* **更新方法**:預設值是允許插入。 清除**允許插入**如果您想要停止從來源插入新資料列。 若要更新，更新插入或刪除資料列，請先將 alter 資料列轉換加入標記資料列，這些動作。 
* **重新建立資料表**:卸除或建立您的目標資料表，才能完成的資料流程。
* **截斷資料表**:完成的資料流程之前，請從您的目標資料表移除所有資料列。
* **批次大小**：輸入一個數字，以將寫入填入多個區塊。 對於大型資料載入使用此選項。 
* **啟用暫存**:當您為您的接收資料集載入 Azure 資料倉儲，請使用 PolyBase。

![[設定] 索引標籤，顯示 SQL 接收選項](media/data-flow/alter-row2.png "SQL 選項")

> [!NOTE]
> 在資料流程中，您可以直接在您的目標資料庫中建立新的資料表定義的資料處理站。 若要建立的資料表定義，請在有新的資料表名稱的 「 接收 」 轉換中設定資料集。 在 SQL 資料集，下方資料表名稱，選取**編輯**並輸入新的資料表名稱。 然後，在 「 接收 」 轉換中，開啟**允許結構描述漂移**。 設定**匯入結構描述**要**無**。

![SQL 資料集設定，顯示要編輯的資料表名稱的位置](media/data-flow/dataset2.png "SQL 結構描述")

> [!NOTE]
> 當您更新或刪除資料庫接收中的資料列時，您必須設定索引鍵資料行。 此設定允許 alter 資料列轉換，以判斷資料移動程式庫 (DML) 中的唯一資料列。

## <a name="next-steps"></a>後續步驟

既然您已建立您的資料流程，新增[到您的管線的資料流活動](concepts-data-flow-overview.md)。
