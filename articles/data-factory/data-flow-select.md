---
title: Azure Data Factory 對應資料流程選取轉換
description: Azure Data Factory 對應資料流程選取轉換
author: kromerm
ms.author: makromer
ms.service: data-factory
ms.topic: conceptual
ms.date: 02/12/2019
ms.openlocfilehash: 6ef9712dd2fd6b8d53fd4ad2c3e07e1d6c8f1aec
ms.sourcegitcommit: e0e6663a2d6672a9d916d64d14d63633934d2952
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/21/2019
ms.locfileid: "72387208"
---
# <a name="mapping-data-flow-select-transformation"></a>對應資料流程選取轉換


將此轉換用於資料行選擇性（減少資料行數目）、別名資料行和資料流程名稱，以及重新排序資料行。

## <a name="how-to-use-select-transformation"></a>如何使用選取轉換
選取的轉換可讓您設定整個資料流的別名，或在該資料流中的資料行指派不同的名稱 (別名)，之後可在資料流程中參考這些新名稱。 這項轉換可用於自我聯結的案例。 在 ADF 資料流程中實作自我聯結的方式是選取資料流、使用「新分支」設定資料流的分支，然後立即加入「選取」轉換。 該資料流現在會有新的名稱可供您聯結回原始的資料流，以便建立自我聯結：

![自我聯結](media/data-flow/selfjoin.png "自我聯結")

在上圖中，選取轉換位於最上層。 這是原始資料流的別名「OrigSourceBatting」。 在下方反白顯示的聯結轉換中，您可以看到我們使用這個選取別名資料流程做為右手聯結，讓我們能夠在內部聯結的左側 & 右邊參考相同的索引鍵。

選取也可以用來取消選取資料流程中的資料行。 例如，如果在接收中定義 6 個資料行，但是您只想要挑選其中 3 個進行轉換，然後流向接收，您可以使用選取轉換僅選取 3 個。

![選取轉換](media/data-flow/newselect1.png "選取別名")

## <a name="options"></a>選項
* 「選取」的預設設定是包含所有內送的資料行，並保留這些原始名稱。 您可以設定 Select 轉換的名稱，為資料流設定別名。
* 若要設定個別資料行的別名，請取消選取「全部選取」並使用下方的資料行對應。
* 選擇 [略過重複專案]，以排除輸入或輸出中繼資料的重復資料行。

![略過重複專案](media/data-flow/select-skip-dup.png "略過重複專案")

* 當您選擇略過重複專案時，結果會顯示在 [檢查] 索引標籤中。 ADF 會保留第一次出現的資料行，而您會看到該相同資料行後續出現的每一次都已從您的流程中移除。

> [!NOTE]
> 若要清除對應規則，請按 [**重設**] 按鈕。

## <a name="mapping"></a>對應
根據預設，[選取] 轉換會自動對應所有資料行，而這些資料行會在輸出上傳遞所有傳入的資料行到相同的名稱。 在 [選取設定] 中設定的輸出資料流程名稱會定義資料流程的新別名名稱。 如果您保留選取 [自動對應] 的集合，則可以使用相同的所有資料行來為整個資料流程加上別名。

![選取轉換規則](media/data-flow/rule2.png "以規則為基礎的對應")

如果您想要別名、移除、重新命名或重新排序資料行，您必須先關閉「自動對應」。 根據預設，您會看到為您輸入的預設規則，稱為「所有輸入資料行」。 如果您想要一律允許所有傳入的資料行對應到其輸出上的相同名稱，您可以將此規則保留在原處。

不過，如果您想要新增自訂規則，您將按一下 [新增對應]。 欄位對應會為您提供要對應和別名的傳入和傳出資料行名稱清單。 選擇 [以規則為基礎的對應] 來建立模式比對規則。

## <a name="rule-based-mapping"></a>以規則為基礎的對應
當您選擇以規則為基礎的對應時，您會指示 ADF 評估相符的運算式，以符合傳入模式規則並定義外寄功能變數名稱。 您可以新增欄位和以規則為基礎之對應的任意組合。 然後，ADF 會根據來源的傳入中繼資料，在執行時間產生功能變數名稱。 您可以在 debug 和使用 [資料預覽] 窗格期間，查看所產生欄位的名稱。

如需模式比對的詳細資訊，請[參閱資料行模式檔](concepts-data-flow-column-pattern.md)。

## <a name="next-steps"></a>後續步驟
* 使用 [選取] 來重新命名、重新排列和建立別名資料行之後，請使用 [[接收] 轉換](data-flow-sink.md)，將您的資料放入資料存放區中。
