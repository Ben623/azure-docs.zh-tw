---
title: 為資料加上標籤
titleSuffix: Azure Machine Learning
description: 本文說明如何建立及執行加上標籤專案，以標記用於機器學習的資料。
author: lobrien
ms.author: laobri
ms.service: machine-learning
ms.topic: tutorial
ms.date: 11/04/2019
ms.openlocfilehash: 76f995901814c90ff9fd78585c98d56b3478e8b4
ms.sourcegitcommit: b2fb32ae73b12cf2d180e6e4ffffa13a31aa4c6f
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 11/05/2019
ms.locfileid: "73612760"
---
# <a name="get-labels-for-data"></a>為資料加上標籤

在機器學習專案中，該如何為大量資料加上標籤往往是令人頭痛的問題。 具有電腦視覺元件 (例如影像分類或物體偵測) 的 ML 專案，一般都需要數千個影像和對應的標籤。 
 
Azure Machine Learning Studio 可讓您在集中的位置建立、管理及監視加上標籤專案。 加上標籤專案有助於讓資料、標籤和小組成員協調一致，從而讓您更有效率地管理加上標籤工作。 目前支援的工作有影像分類 (多標籤或多類別)，以及使用週框方塊來進行的物體識別。

Azure 會追蹤進度，並維護未完成的加上標籤工作佇列。 加上標籤者不需要擁有 Azure 帳戶就能參與加上標籤工作。 在使用 Microsoft 帳戶 (MSA) 或 [Azure Active Directory](https://docs.microsoft.com/azure/active-directory/active-directory-whatis) 進行驗證後，加上標籤者就可以依照其可以工作的時間長短進行相應數量的加上標籤工作。 其可以使用鍵盤快速鍵來指派和變更標籤。 

您可以啟動和停止專案、新增和移除人員與小組，以及監視進度。 您可以匯出已加上標籤的資料，不論是透過 COCO 格式或 Azure ML 資料集的形式都行。 

在本文中，您將了解如何：

> [!div class="checklist"]
> * 建立專案
> * 指定專案的資料和結構
> * 管理處理專案的小組和人員
> * 執行和監視專案
> * 匯出標籤 

## <a name="prerequisites"></a>必要條件

* 您想要加上標籤的資料，不論是在本機檔案中，還是在 Azure 儲存體中
* 您想要套用的標籤集合
* 用於加上標籤的指示
* Azure 訂用帳戶。 如果您沒有 Azure 訂用帳戶，請在開始前先建立一個免費帳戶。 立即試用[免費或付費版本的 Azure Machine Learning](https://aka.ms/AMLFree)
* Azure Machine Learning 工作區。 請參閱[建立 Azure Machine Learning 工作區](how-to-manage-workspace.md)。

## <a name="create-a-labeling-project"></a>建立加上標籤專案

加上標籤專案可從 [Azure Machine Learning Studio](https://ml.azure.com/) 進行管理。 [加上標籤專案]  頁面可讓您管理專案、小組和人員。 專案中會指派一或多個小組，而小組中會指派一或多個人員。 

如果您的資料已儲存在 Azure Blob 儲存體中，則請先讓其可作為資料存放區來使用，然後才建立加上標籤專案。 如需相關資訊，請參閱[建立和註冊資料存放區](https://docs.microsoft.com/azure/machine-learning/service/how-to-access-data#create-and-register-datastores)。 

若要建立專案，請選擇 [新增專案]  。 為其指定適當名稱，然後選取 [加上標籤工作類型]  。 

![加上標籤專案建立精靈](media/how-to-create-labeling-projects/labeling-creation-wizard.png)

* 如果會對影像套用某組類別中的「一或多個」  標籤，請為專案選擇 [影像分類多重標籤]  。 例如，狗狗的相片可能會同時加上「狗」  和「白天」  標籤
* 如果只會對影像套用某組類別中的「單一類別」  ，請為專案選擇 [影像分類多重類別] 
* 如果工作內容是要對影像內的物體指派類別，以及指定圍繞在物體周圍的週框方塊，請為專案選擇 [物體識別 (週框方塊)] 

當您準備好繼續進行後續步驟時，請選擇 [下一步]  。

## <a name="specify-data-to-be-labeled"></a>指定要加上標籤的資料

如果您已經建立包含資料的資料集，便可以從 [選取現有的資料集]  下拉式清單中進行選取。 或者，您也可以選擇 [建立資料集]  來選取現有 Azure 資料存放區或上傳本機檔案。 

### <a name="create-a-dataset-from-an-azure-datastore"></a>從 Azure 資料存放區建立資料集

雖然在許多使用案例中，選擇直接上傳本機檔案並沒有問題，但若要傳輸大量資料的話，使用 [Azure 儲存體總管](https://azure.microsoft.com/features/storage-explorer/)不僅穩健且更加快速。 建議您使用 Azure 儲存體總管來作為移動檔案的預設方式。

若要從您已儲存在 Azure Blob 儲存體中的資料建立資料集：

1. 選擇 [建立資料集]  和 [從資料存放區] 
1. 為您的資料集指派 [名稱] 
1. 您必須選擇 [檔案] 來作為 [資料集類型]   
1. 選取資料存放區 
1. 如果您的資料位於 Blob 儲存體內的子資料夾中，請選擇 [瀏覽]  來選取路徑。 
    * 您可以另外在路徑後面附加 `/**`，以包含所選路徑子資料夾內的所有檔案
    * 使用 `**/*.*` 則可包含目前容器和子資料夾內的所有資料
1. 提供資料集的描述
1. 選擇 [下一步]  
1. 確認詳細資料。 您可以選擇 [上一步]  來修改設定，也可以選擇 [建立]  來建立資料集

### <a name="create-a-dataset-by-uploading-data"></a>藉由上傳資料來建立資料集

如果您想要直接上傳資料：

1. 選擇 [建立資料集]  和 [從本機檔案] 
1. 為您的資料集指派 [名稱] 
1. 您必須選擇 [檔案] 來作為 [資料集類型] 
1. 如果您選擇 [進階設定]  ，則可以自訂資料存放區、容器和資料的路徑
1. 選擇 [瀏覽]  以選取要上傳的本機檔案
1. 提供資料集的描述
1. 選擇 [下一步]  
1. 確認詳細資料。 您可以選擇 [上一步]  來修改設定，也可以選擇 [建立]  來建立資料集

資料會上傳至 Azure ML 工作區的預設 Blob 存放區 (`workspaceblobstore`)。

## <a name="specify-label-classes"></a>指定標籤類別

在 [標籤類別]  頁面上，您可以指定用來將資料分類的一組類別。 請仔細思考這些類別，因為加上標籤者的精確性和速度會受到其是否能輕鬆地從中做出正確選擇所影響。 例如，最好是使用界碼或將屬名縮寫，讓他們不必完整拼出動植物的屬名和種名。 

每個資料列輸入一個標籤，使用 [+]  按鈕即可新增資料列。 如果您有 3 到 4 個以上的標籤，但少於 10 個，請考慮在這些標籤前面加上 "1: "、"2: " 等等，透過數字索引鍵為加上標籤者提供一些指引來加快其工作速度。 

## <a name="describe-the-labeling-task"></a>描述加上標籤工作

請務必要清楚說明加上標籤工作。 [加上標籤指示]  頁面可讓您連結至外部網站，以便為加上標籤者提供指示。 請對受眾提供以工作為導向的適當指示。 

* 他們會看到什麼標籤，以及要如何從中選擇？ 是否有他們應該查閱的參考文字？
* 如果看起來沒有合適的標籤，該怎麼辦？ 
* 如果有多個看起來合適的標籤，該怎麼辦？
* 應該對標籤套用怎樣的信賴度臨界值？ 是否要他們在不確定時「盡其所能地猜測」？
* 若關注的物體有局部遮蔽或重疊的情形，該怎麼辦？
* 若關注的物體在影像邊緣遭到裁剪，該怎麼辦？
* 如果他們在提交影像後才覺得標籤標錯，該怎麼辦？ 

關於週框方塊，其他的重要問題包括：

* 此工作的週框方塊是如何定義的？ 週框方塊應該完全在物體內部、盡可能緊貼其範圍來裁剪，還是容許有一些間隙？ 
* 您希望加上標籤者在定義週框方塊時，達到哪種程度的細心和一致性？

>[!Note]
> 請務必要說，加上標籤者可以使用數字索引鍵 1 到 9 來選擇前 9 個標籤。 

## <a name="initialize-the-labeling-project"></a>初始化加上標籤專案

加上標籤專案在初始化之後，其某些層面就無法再改變：您無法變更工作類型或資料集。 您可以修改標籤，並變更工作描述的 URL。 在建立專案之前，請仔細檢閱設定。 提交專案之後，您就會回到 [加上標籤]  首頁，首頁中會將專案顯示為 [正在初始化]  。 此頁面不會自動重新整理，因此在一段時間之後，如果您手動重新整理，該頁面就會將專案顯示為 [已建立]  。 

## <a name="manage-teams-and-people"></a>管理小組和人員

加上標籤專案會獲得預設小組，並將您新增為預設成員。 每個加上標籤專案都會獲得新的預設小組，但專案可以共用小組。 專案可能會擁有不只一個小組。 若要建立小組，請在 [小組]  頁面上選擇 [新增小組]  。 

人員則可在 [人員]  頁面上進行管理。 您可以新增和移除其電子郵件地址上的人員。 每個加上標籤者都必須使用其 Microsoft 帳戶或 Azure Active Directory (如果您使用此項目) 來進行驗證。  

新增人員之後，便可將其指派給一或多個小組。 瀏覽至 [小組]  頁面、選取您感興趣的特定小組，然後視需要使用 [指派人員]  或 [移除人員]  。

如果您想要傳送電子郵件給小組內的每個人，其做法是選擇該小組以顯示 [小組詳細資料]  頁面。 在此頁面上，[傳送電子郵件給小組]  按鈕會開啟您的電子郵件編輯器，且其中會有小組內每個人的電子郵件地址。

## <a name="run-and-monitor-the-project"></a>執行和監視專案

專案完成初始化後，Azure 就會開始執行該專案。 如果您在主要的 [加上標籤]  頁面上按一下該專案，就會進入 [專案詳細資料]  。 [儀表板]  索引標籤會顯示加上標籤工作的進度。 

在 [資料]  索引標籤上，您可以查看資料集並檢閱已加上標籤的資料。 如果您看到標籤不正確的資料，則可以 [選取]  該資料，然後選擇 [拒絕]  ，以移除標籤並將資料放回未加上標籤的佇列。 

在 [小組]  索引標籤上，您可以對此專案指派或取消指派小組。 

如果您想要讓專案離線或上線，請選擇 [暫停]  /[開始]  按鈕，以切換專案的執行狀態。

您可以從 [專案詳細資料]  頁面選取 [為資料加上標籤]  ，來直接為資料加上標籤。 只有在專案執行時，您才可以為資料加上標籤。 

## <a name="export-the-labels"></a>匯出標籤

您可以隨時匯出機器學習實驗的標籤資料。 影像標籤可以匯出為 [COCO 格式](http://cocodataset.org/#format-data)或匯出為 Azure ML 資料集。 您可以在加上標籤專案的 [專案詳細資料]  頁面上找到 [匯出]  按鈕。

COCO 檔案會建立在 Azure ML 工作區的預設 Blob 存放區中，而其所在的資料夾位於 **export/coco** 中。 您可以在 Studio 的 [資料集]  區段下，存取所匯出的 Azure ML 資料集。 [資料集詳細資料] 頁面也會提供程式碼範例，以供您從 Python 存取標籤。

![所匯出的資料集](media/how-to-create-labeling-projects/exported-dataset.png)

## <a name="next-steps"></a>後續步驟

* 為影像加上標籤以進行[影像分類或物體偵測](how-to-label-images.md)
* 深入了解 [Azure Machine Learning 和 Studio](../compare-azure-ml-to-studio-classic.md)