---
title: 線性迴歸：模組參考
titleSuffix: Azure Machine Learning service
description: 了解如何在 Azure Machine Learning 服務中使用線性迴歸模組，在實驗中建立線性迴歸模型使用。
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: xiaoharper
ms.author: zhanxia
ms.date: 05/02/2019
ROBOTS: NOINDEX
ms.openlocfilehash: 040f726a703d34a95bae7d5b7cdd766655c62a4e
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/13/2019
ms.locfileid: "65029711"
---
# <a name="linear-regression-module"></a>線性迴歸模組
本文說明 Azure Machine Learning 服務的視覺化介面 （預覽） 的模組。

若要建立使用線性迴歸模型，在實驗中使用此模組。  線性迴歸會嘗試建立一或多個獨立變數與數值的結果或相依變數之間的線性關聯性。 

您可以使用此模組來定義線性迴歸方法，然後定型模型，使用已加上標籤的資料集。 定型的模型接著可用來進行預測。

## <a name="about-linear-regression"></a>有關線性迴歸

線性迴歸是一個常見的統計方法，可在 machine learning 中採用和增強的許多新的方法，來配適的線，並正在測量錯誤。 最基本的意義而言，迴歸是指預測數值的目標。 基本預測工作的需要簡單的模型時，線性迴歸仍很好的選擇。 線性迴歸也很容易在缺乏複雜性的高維度、 稀疏資料集上順利運作。

Azure Machine Learning 支援各種不同的迴歸模型，除了線性迴歸。 不過，「 迴歸 」 一詞可以鬆散，解譯，而且不支援某些類型的其他工具中提供的迴歸。

+ 傳統的迴歸問題牽涉到單一的獨立變數和相依變數。 這就叫做*簡單的迴歸*。  這個模組支援簡單的迴歸。

+ *多重線性迴歸*牽涉到兩個或多個獨立變數構成單一的相依變數。 在其中將多個輸入用來預測單一數值結果的問題也稱為*多變量線性迴歸*。

    **線性迴歸**模組可以解決這些問題，可以大多數其他迴歸模組。

+ *多標籤迴歸*預測單一模型中的多個相依變數的工作。 例如，在多標籤羅吉斯迴歸，一個範例可以指派給多個不同的標籤。 （這是預測單一類別變數內的多個層級的工作不同）。

    在 Azure Machine Learning 中不支援這種類型的迴歸。 若要預測多個變數，建立個別的學習因子，針對每個您想要預測的輸出。

多年來統計學家也不斷開發越來越進階的迴歸的方法。 這是也適用於線性迴歸。 這個模組支援兩種方法可以測量錯誤，並符合迴歸線： 普通最小平方法和梯度下降。

- **梯度下降**是一種方法，在模型定型程序的每個步驟的誤差數量降到最低。 有許多種變形，梯度下降，已廣泛研究其各種學習問題的最佳化。 如果您選擇這個選項可讓**解決方案方法**，您可以設定各種不同的參數來控制階梯大小，學習速率等等。 此選項也支援使用整合式的參數掃掠。

- **普通最小平方**是其中一個最常使用的技術，在線性迴歸。 例如，最小平方是用於 Microsoft Excel 分析工具箱 的方法。

    普通最小平方是指損失函數，計算錯誤的實際值與預測線，距離平方的總和，以及減少的平方的誤差融入模型。 這個方法會採用輸入與相依變數之間的強式線性關聯性。

## <a name="configure-linear-regression"></a>設定線性迴歸

這個模組支援兩種方法，配適迴歸模型，使用不同的選項：

+ [建立線上梯度下降迴歸模型](#bkmk_GradientDescent)

    梯度下降會更好的損失函式，就比較複雜，或具有指定的變數數目太少的定型資料的模型。



+ [符合使用普通最小平方迴歸模型](#bkmk_OrdinaryLeastSquares)

    對於小型資料集，最好是選取普通最小平方。 這會提供類似的結果到 Excel。

## <a name="bkmk_OrdinaryLeastSquares"></a> 建立使用普通最小平方迴歸模型

1. 新增**線性迴歸模型**模組至您在介面中的實驗。

    您可以找到此模組中的**Machine Learning**類別目錄。 依序展開**初始化模型**，展開**迴歸**，然後將拖曳**Linear Regression Model**模組至您的實驗。

2. 在 **屬性**窗格，請在**解決方案方法**下拉式清單中選取**普通最小平方**。 此選項會指定用來尋找迴歸線的計算方法。

3. 在  **L2 正則化權數**，輸入值，以作為 L2 正則化權數。 我們建議您使用非零值，以避免過度配適。

     若要深入了解正則化如何影響模型調整，請參閱這篇文章：[L1 與 L2 正則化的機器學習服務](https://msdn.microsoft.com/magazine/dn904675.aspx)

4. 選取選項，**包含截距**，如果您想要檢視的詞彙，截距。

    如果您不需要檢閱的迴歸公式，請取消選取此選項。

5. 針對**隨機號碼種子**，您可以選擇性地輸入要植入亂數產生器模型所使用的值。

    使用種子值是實驗的很有用，如果您想要在每次執行相同中維護相同的結果。 否則，預設為使用系統時鐘的值。


7. 新增[定型模型](./train-model.md)模組至您的實驗，然後加上標籤的資料集連接。

8. 執行實驗。

## <a name="results-for-ordinary-least-squares-model"></a>普通最小平方模型的結果

訓練完成之後：

+ 若要檢視模型的參數，以滑鼠右鍵按一下講師輸出，然後選取**視覺化**。

+ 若要做出預測，連接 定型的模型，以[評分模型](./score-model.md)模組，以及新值的資料集。 


## <a name="bkmk_GradientDescent"></a> 建立線上梯度下降迴歸模型

1. 新增**線性迴歸模型**模組至您在介面中的實驗。

    您可以找到此模組中的**Machine Learning**類別目錄。 依序展開**初始化模型**，展開**迴歸**，並將拖曳**線性迴歸模型**模組至您的實驗

2. 中**屬性**窗格，請在**解決方案方法**下拉式清單中，選擇**線上梯度下降**做為用來尋找迴歸線的計算方法。

3. 針對**建立定型模式**，指出是否要用來定型此模型與一組預先定義的參數，或如果您想要使用參數掃掠來最佳化模型。

    + **單一參數**:如果您知道您要設定線性迴歸網路的方式，您可以提供一組特定的值做為引數。

   
4. 針對**學習速率**，指定隨機梯度下降最佳化工具的初始學習率。

5. 針對**訓練 epoch 數目**，該值指出多少次演算法應該反覆運算範例的型別。 對於具有少數範例的資料集，這個數字應該大到能夠達到收斂為止。

6. **正規化特徵**:如果您已經有正規化數值的資料來定型模型，您可以取消選取此選項。 根據預設，模組會正規化為範圍介於 0 和 1 之間的所有數值輸入。

    > [!NOTE]
    > 
    > 請務必套用相同的正規化方法用於評分的新資料。

7. 在  **L2 正則化權數**，輸入值，以作為 L2 正則化權數。 我們建議您使用非零值，以避免過度配適。

    若要深入了解正則化如何影響模型調整，請參閱這篇文章：[L1 與 L2 正則化的機器學習服務](https://msdn.microsoft.com/magazine/dn904675.aspx)


9. 選取選項，**減少學習速率**，如果您想要隨著反覆運算而降低學習速率。  

10. 針對**隨機號碼種子**，您可以選擇性地輸入要植入亂數產生器模型所使用的值。 使用種子值是實驗的很有用，如果您想要在每次執行相同中維護相同的結果。


12. 新增標記的資料集和其中一個定型模組。

    如果您不使用參數掃掠，使用[定型模型](train-model.md)模組。

13. 執行實驗。

## <a name="results-for-online-gradient-descent"></a>線上梯度下降的結果

訓練完成之後：

+ 若要做出預測，連接 定型的模型，以[評分模型](./score-model.md)模組，以及新的輸入資料。


## <a name="next-steps"></a>後續步驟

請參閱[可用的模組集](module-reference.md)Azure Machine Learning 服務。 