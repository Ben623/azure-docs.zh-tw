---
title: 以篩選器為基礎的特徵選取：模組參考
titleSuffix: Azure Machine Learning service
description: 瞭解如何在 Azure Machine Learning 服務中使用以篩選為基礎的特徵選取模組，以識別資料集內具有最佳預測能力的功能。
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 10/10/2019
ms.openlocfilehash: ac1421c93f1a4ca42d7f1d94bb898c423c380a57
ms.sourcegitcommit: c22327552d62f88aeaa321189f9b9a631525027c
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 11/04/2019
ms.locfileid: "73517965"
---
# <a name="filter-based-feature-selection"></a>以篩選器為基礎的特徵選取

本文說明如何在 Azure Machine Learning 設計工具（預覽）中使用以[篩選為基礎的特徵選取](filter-based-feature-selection.md)模組，以識別輸入資料集中具有最佳預測能力的資料行。 

一般而言，*特徵選取*指的是將統計測試套用至輸入的程式（指定的輸出），以判斷哪些資料行是更具預測性的輸出。 以[篩選為基礎的特徵選取](filter-based-feature-selection.md)模組提供多個特徵選取演算法供您選擇，包括相互關聯方法，例如皮耳森相互關聯和卡方的值。 

當您使用以[篩選為基礎的特徵選取](filter-based-feature-selection.md)模組時，您會提供資料集、識別包含標籤或相依變數的資料行，然後指定用來測量特徵重要性的單一方法。

此模組會輸出包含最佳功能資料行的資料集，如預測能力的排名。 它也會從選取的度量輸出功能的名稱及其分數。  

### <a name="what-is-filter-based-feature-selection-and-why-use-it"></a>什麼是以篩選器為基礎的特徵選取，以及為何要使用它？  

此特徵選取模組稱為「以篩選為基礎」，因為您使用選取的度量來識別不相關的屬性，並從模型中篩選掉多餘的資料行。  您可以選擇適合您資料的單一統計量值，而此模組會計算每個特徵資料行的分數。 這些資料行會依其特性分數來排序。 

藉由選擇正確的功能，您可能會改善分類的正確性和效率。 

您通常只會使用具有最佳分數的資料行來建立您的預測模型。 特徵選取分數不佳的資料行可以留在 dataset 中，並在您建立模型時忽略。  

### <a name="how-to-choose-a-feature-selection-metric"></a>如何選擇特徵選取度量

以**篩選為基礎的特徵選取**可提供各種計量來評估每個資料行中的資訊值。  本節提供每個度量的一般描述，以及其套用方式。 有關使用每個計量的其他需求，請在[技術](#technical-notes)提示一節和設定每個模組的指示中加以[說明](#how-to-configure-filter-based-feature-selection)。

-   **皮耳森相互關聯**  

     皮耳森的相互關聯統計資料（或皮耳森的相互關聯係數）在統計模型中也稱為 `r` 值。 針對任何兩個變數，它會傳回一個值，指出相互關聯的強度。

     皮耳森的相互關聯係數是藉由接受兩個變數的共變數，並除以其標準差的乘積來計算。 這兩個變數中的小數值變更不會影響係數。  

-   **卡方平方**  

     雙向卡方測試是一種統計方法，可測量接近預期的值對實際結果的影響。 方法假設變數是隨機的，並且是從適當的獨立變數範例中繪製而來。 產生的卡方統計資料表示結果與預期（隨機）結果的距離。  


> [!TIP]
> 如果您需要自訂功能選取方法的不同選項，請使用 [[執行 R 腳本](execute-r-script.md)] 模組。 
##  <a name="how-to-configure-filter-based-feature-selection"></a>如何設定以篩選器為基礎的特徵選取

您可以選擇標準統計計量，而模組會計算一對資料行之間的相互關聯：標籤資料行和特徵資料行

1.  將以**篩選為基礎的特徵選取**模組新增至您的管線。 您可以在設計工具的 [**特徵選取**] 類別目錄中找到它。

2. 連接輸入資料集，其中包含至少兩個具有潛在功能的資料行。  

    若要確保應該分析資料行並產生特徵分數，請使用 [[編輯中繼資料](edit-metadata.md)] 模組來設定**IsFeature**屬性。 

    > [!IMPORTANT]
    > 請確定您提供做為輸入的資料行是可能的功能。 例如，包含單一值的資料行沒有任何資訊值。
    >
    > 如果您知道有哪些資料行會造成不正確的功能，您可以從資料行選取專案中移除它們。 您也可以使用 [[編輯中繼資料](edit-metadata.md)] 模組，將它們標示為**類別**。 
3.  針對 [**功能評分方法**]，選擇下列其中一個已建立的統計方法，以用於計算分數。  

    | 方法              | 需求                             |
    | ------------------- | ---------------------------------------- |
    | 皮耳森相互關聯 | 標籤可以是文字或數位。 功能必須是數值。 |
    卡方平方| 標籤和功能可以是文字或數位。 使用此方法來計算兩個類別資料行的特徵重要性。|

    > [!TIP]
    > 如果您變更選取的計量，將會重設所有其他選取專案，因此請務必先設定此選項！）
4.  選取 [**僅操作功能資料行**] 選項，只針對先前已標示為特徵的資料行產生分數。 

    如果您取消選取此選項，此模組會為任何符合準則的資料行建立分數，最高可達**所需功能數目**所指定的資料行數。  

5.  在 [**目標資料行**] 中，按一下 [啟動資料**行選取器**]，依名稱或索引來選擇標籤資料行（索引是以一為基礎）。  

     包含統計相互關聯的所有方法都需要標籤資料行。 如果您選擇 [標籤資料行] 或 [多個標籤資料行]，此模組會傳回設計階段錯誤。 

6.  針對 [想要的**功能數目**]，輸入您想要傳回結果的功能資料行數目。  

     - 您可以指定的最小功能數目是1，但我們建議您增加此值。  

     - 如果指定的所需特徵數目大於資料集內的資料行數目，則會傳回所有功能，即使是分數為零的特徵也一樣。  

    - 如果您指定的結果資料行數目少於特徵資料行，則這些功能會依遞減分數排序，而且只會傳回最高的特徵。 

7.  執行管線，或選取以[篩選為基礎的特徵選取](filter-based-feature-selection.md)模組，然後按一下 [**執行選取**專案]。


## <a name="results"></a>結果

處理完成之後：

+ 若要查看已分析之功能資料行的完整清單及其分數，請以滑鼠右鍵按一下模組，選取 [**功能**]，然後按一下 [**視覺化**]。  

+ 若要根據您的特徵選取準則來查看所產生的資料集，請以滑鼠右鍵按一下模組，選取 [**資料集**]，然後按一下 [**視覺化**]。 

如果資料集包含的資料行數比您預期的還要少，請檢查模組設定，以及提供做為輸入之資料行的資料類型。 例如，如果您將**所需的功能數目**設定為1，輸出資料集只會包含兩個數據行：標籤資料行，以及最高等級的特徵資料行。


##  <a name="technical-notes"></a>技術說明  

### <a name="implementation-details"></a>實作詳細資料

如果您在數值功能和類別標籤上使用皮耳森相互關聯，則會計算功能分數，如下所示：  

1.  針對 [類別] 資料行中的每個層級，計算數值資料行的條件平均數。  

2.  將條件式資料行與數值資料行相互關聯。  

### <a name="requirements"></a>需求  

-   針對指定為**標籤**或**分數**資料行的任何資料行，無法產生特徵選取分數。  

-   如果您嘗試將計分方法與方法不支援的資料類型資料行搭配使用，模組將會引發錯誤，否則會將零的分數指派給該資料行。  

-   如果資料行包含邏輯（true/false）值，則會將它們當做 True = 1 和 False = 0 來處理。  

-   如果資料行被指定為**標籤**或**分數**，則不可以是功能。  

### <a name="how-missing-values-are-handled"></a>如何處理遺漏值  

-   您不能將任何具有所有遺漏值的資料行指定為目標（標籤）資料行。  

-   如果資料行包含遺漏值，則在計算資料行的分數時，會忽略它們。  

-   如果指定為特徵資料行的資料行具有所有遺漏的值，則會指派零的分數。   


## <a name="next-steps"></a>後續步驟

請參閱可用來 Azure Machine Learning 服務的[模組集合](module-reference.md)。 

