---
title: 評分 SVD 推薦：模組參考
titleSuffix: Azure Machine Learning service
description: 瞭解如何使用 Azure Machine Learning 服務中的計分 SVD 推薦模組來評分資料集的建議預測。
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 10/10/2019
ms.openlocfilehash: 25de69873857512a70d6417973d4a85883ac6455
ms.sourcegitcommit: c22327552d62f88aeaa321189f9b9a631525027c
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 11/04/2019
ms.locfileid: "73517913"
---
# <a name="score-svd-recommender"></a>評分 SVD 推薦

本文說明如何在 Azure Machine Learning 設計工具（預覽）中使用**計分 SVD 推薦**模組。 使用此模組，根據 SVD （單一值分解）演算法，使用定型的建議模型來建立預測。

SVD 推薦可以產生兩種不同的預測：

- [為指定使用者和項目預測評等](#predict-ratings)

- [對指定使用者推薦項目](#recommend)

建立第二種類型的預測時，您可以在「*生產模式*」或「*評估模式*」中操作。

- **生產模式**會考慮所有使用者或專案，而且通常用於 web 服務。

    您可以為新的使用者建立分數，而不只是在訓練期間看到的使用者。 如需詳細資訊，請參閱[本節](#technical-notes)。 

- **評估模式**會在一組精簡的使用者或可評估的專案上運作，而且通常會在 pipelineation 期間使用。

如需有關 SVD 推薦演算法的詳細資訊，請參閱研究論文：[推薦系統的矩陣分解技術](https://datajobs.com/data-science-repo/Recommender-Systems-[Netflix].pdf)。

                                                                                                                                    


## <a name="how-to-configure-score-svd-recommender"></a>如何設定分數 SVD 推薦

此模組支援不同類型的建議，各有不同的需求。 針對您所擁有的資料類型，以及您想要建立的建議類型，按一下連結。

+ [預測評等](#predict-ratings)
+ [建議專案](#recommend)

###  <a name="predict-ratings"></a>預測評等

當您預測評等時，模型會計算指定的使用者將如何回應特定的專案（給定定型資料）。 因此，計分的輸入資料必須同時提供使用者和專案進行評分。

1. 將定型的建議模型新增至您的管線，並將其連線至**定型的 SVD 推薦**。  您必須使用 [[定型 SVD 推薦](train-SVD-recommender.md)] 來建立模型。

2. **推薦預測種類**：選取 [**評等預測**]。 不需要進一步的參數。

3. 加入您想要進行預測的資料，並將其連接至**資料集以進行評分**。

    若要預測評等，輸入資料集必須包含使用者-專案配對。

    資料集可以在第一個和第二個數據行中包含使用者-專案組的選擇性第三個評等資料行，但是在預測期間將會忽略第三個數據行。

4. 執行管道。

### <a name="results-for-rating-predictions"></a>評等預測的結果 

輸出資料集包含三個數據行，其中包含使用者、專案，以及每個輸入使用者和專案的預測評等。

###  <a name="recommend"></a>推薦 

若要為使用者建議專案，您可以提供使用者和專案的清單做為輸入。 在此資料中，模型會使用其現有專案和使用者的知識，來產生可能吸引每位使用者的專案清單。 您可以自訂傳回的建議數目，並為產生建議所需的先前建議數目設定閾值。

1. 將定型的建議模型新增至您的管線，並將其連線至**定型的 SVD 推薦**。  您必須使用 [[定型 SVD 推薦](train-svd-recommender.md)] 來建立模型。

2. 若要針對指定的使用者清單建議專案，請將**推薦預測種類**設定為**專案建議**。

3. **建議的專案選取**：請選擇下列其中一個值，指出您是在生產環境中使用計分模組，還是要進行模型評估：

    - **從所有專案**：如果您要設定要在 Web 服務或生產環境中使用的管線，請選取此選項。  此選項會啟用 [**生產] 模式**，而模組會從定型期間看到的所有專案提出建議。

    - **從評等專案（針對模型評估）** ：如果您正在開發或測試模型，請選取此選項。 此選項會啟用**評估模式**，而此模組只會從已評等之輸入資料集中的專案提出建議。
    
    - **從未分級的專案（向使用者建議新專案）** ：選取此選項，此模組只會針對訓練資料集中尚未分級的專案提出建議。 

4. 加入您要進行預測的資料集，並將它連接至**資料集以進行評分**。

    - 對於**來自所有專案**的，輸入資料集應包含一個資料行，其中包含要做建議的使用者識別碼。

        Dataset 可以包含專案識別碼和評等的額外兩個數據行，但會忽略這兩個數據行。 

    - 若為**來自分級專案（針對模型評估）** ，輸入資料集應由**使用者-專案配對**所組成。 第一個資料行應該包含**使用者**識別碼。 第二個數據行應該包含對應的**專案**識別碼。

        此資料集可以包含使用者-專案評等的第三個數據行，但會忽略此資料行。

    - **若為來自未分級的專案（向使用者建議新專案）** ，輸入資料集應由**使用者-專案配對**所組成。 第一個資料行應該包含**使用者**識別碼。 第二個數據行應該包含對應的**專案**識別碼。

        此資料集可以包含使用者-專案評等的第三個數據行，但會忽略此資料行。

5. **要建議給使用者的專案數上限**：輸入要為每個使用者傳回的專案數。 根據預設，建議使用五個專案。

6. **每位使用者的建議集區大小下限**：輸入一個值，指出需要多少先前的建議。  根據預設，此參數設定為2，表示專案必須至少由兩個其他使用者建議。

    只有當您在評估模式中進行評分時，才應該使用此選項。 如果您**從 [所有專案**] 或 [未分級的專案] 中選取，則無法使用此選項 **（向使用者建議新專案）** 。

7.  若為**來自未分級的專案（向使用者建議新專案）** ，請使用名為**定型資料**的第三個輸入埠，從預測結果中移除已評分的專案。

    若要套用此篩選，請將原始訓練資料集連接到輸入埠。

8. 執行管道。

### <a name="results-of-item-recommendation"></a>專案建議的結果

**計分 SVD 推薦**所傳回的評分資料集會列出每個使用者的建議專案。

- 第一個資料行包含使用者識別碼。
- 會產生一些額外的資料行，這取決於您為**建議給使用者的專案數上限**而設定的值。 每個資料行都包含建議的專案（依識別碼）。 這些建議會依使用者專案親和性排序，而具有最高親和性的專案會放在 [**專案 1**] 資料行中。

> [!WARNING]
> 無法使用[評估推薦](evaluate-recommender.md)模組來評估此計分資料集。


##  <a name="technical-notes"></a>技術說明

本節包含有關使用推薦來建立預測的一些常見問題解答。  

###  <a name="production-use-of-the-svd-recommender"></a>SVD 推薦的生產環境使用

如果您有管線與 SVD 推薦，並將模型移至生產環境，請注意在評估模式和生產模式中使用推薦時的這些主要差異：

- 根據定義，評估需要可針對測試集中的*事實*進行驗證的預測。 因此，當您評估推薦時，它必須只預測測試集中已分級的專案。 這必須限制預測的可能值。

    不過，當您讓模型時，通常會變更預測模式，以根據所有可能的專案來提出建議，以取得最佳預測。 這其中許多預測都沒有相對應的事實，因此無法以 pipelineation 期間的相同方式驗證建議的精確度。


## <a name="next-steps"></a>後續步驟

請參閱可用來 Azure Machine Learning 服務的[模組集合](module-reference.md)。 
