---
title: 清除遺漏的資料：模組參考
titleSuffix: Azure Machine Learning service
description: 了解如何使用 Azure Machine Learning 服務中的 「 清除遺漏資料 」 模組，來移除、 取代或推斷遺漏值。
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: xiaoharper
ms.author: zhanxia
ms.date: 05/02/2019
ROBOTS: NOINDEX
ms.openlocfilehash: de81204219a102734f1820258a3c32e59a64c685
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/13/2019
ms.locfileid: "65028781"
---
# <a name="clean-missing-data-module"></a>清除遺漏的資料模組

本文說明 Azure Machine Learning 服務的視覺化介面 （預覽） 的模組。

您可以使用此模組來移除、 取代或推斷遺漏值。 

資料科學家經常檢查 遺漏值的資料，然後再執行各種作業來修復資料，或插入新的值。 這類清除的作業的目標是為了防止造成遺漏的資料在模型定型時可能發生的問題。 

這個模組支援多個類型的作業 「 清除 」 遺漏的值，包括：

+ 取代遺漏值的預留位置、 平均值或其他值
+ 完全移除資料列和資料行的遺漏值
+ 推斷的統計方法為基礎的值


使用此模組不會變更您的來源資料集。 相反地，它會在您可用於後續的工作流程的工作區中建立新的資料集。 您也可以儲存新的、 已清除資料集，以供重複使用。

此模組也會輸出轉換用來清除遺漏值的定義。 您可以在結構描述皆相同，使用其他資料集上重複使用此轉換[套用轉換](./apply-transformation.md)模組。  

## <a name="how-to-use-clean-missing-data"></a>如何使用 清除遺漏的資料

此模組可讓您定義清除作業。 因此，您可以將於稍後套用至新的資料，您也可以儲存清除作業。 請參閱下列連結以取得如何建立並儲存清除的處理程序的描述： 
 
+ 若要取代遺漏值
  
+ 若要清理的轉換套用至新的資料
 
> [!IMPORTANT]
> 您用來處理遺漏值清除方法會大幅影響您的結果。 我們建議您試驗不同的方法。 請考慮這兩個理由使用特定的方法，以及結果的品質。

### <a name="replace-missing-values"></a>取代遺漏值  

每當您套用[清除遺漏資料](./clean-missing-data.md)模組以一組資料，相同的清除作業會套用至您所選取的所有資料行。 因此，如果您要清除不同的資料行使用不同的方法，請使用不同的執行個體的模組。

1.  新增[清除遺漏資料](./clean-missing-data.md)模組至您的實驗，並連接資料集有遺漏值。  
  
2.  針對**是要清除的資料行**，選擇包含您想要變更的遺漏值的資料行。 您可以選擇多個資料行，但您必須使用相同的取代方法，在所有選取的資料行中。 因此，通常您需要個別清除字串資料行和數值資料行。

    例如，若要檢查所有的數值資料行中的遺漏值：

    1. 開啟資料行選擇器，然後選取**與規則**。
    2. 針對**開始於**，選取**無資料行**。

        您可以也開始的所有資料行，然後排除資料行。 一開始，規則不會顯示是否您第一次按一下**的所有資料行**，但是您可以按一下 **無資料行**，然後按一下 **所有資料行**以開頭的所有資料行，然後篩選（排除） 資料行是根據名稱、 資料類型，或資料行索引。

    3. 針對**Include**，選取**資料行型別**從下拉式清單中，然後選取**數值**，或更明確的數值類型。 
  
    您選擇的任何清除或更換方法必須是適用於**所有**選取範圍中的資料行。 如果指定的作業與不相容的任何資料行中的資料，此模組會傳回錯誤，並停止實驗。
  
3.  針對**最小遺漏值比率**，指定要執行作業所需的遺漏值的數目下限。  
  
    您可以使用此選項結合**最大遺漏值比率**定義所在的資料集執行清除作業的條件。 如果有太多或太少遺漏值的資料列，則無法執行此作業。 
  
    輸入代表您的數字**比例**的遺漏值，以資料行中的所有值。 根據預設，**最小遺漏值比率**屬性設定為 0。 這表示即使只有一個遺漏值，會清除遺漏值。 

    > [!WARNING]
    > 要套用指定之作業的順序中的每個資料行必須符合此條件。 例如，假設您選取三個資料行，並將遺漏值的最小比率設為.2 （20%)，但只有一個資料行實際上有 20%的遺漏值。 在此情況下，清除作業會僅適用於資料行遺漏值超過 20%。 因此，其他資料行就會維持不變。
    > 
    > 如果您有任何遺漏的值是否已變更的疑慮，請選取選項，**產生遺漏值指標資料行**。 資料行附加至資料集，以指出每個資料行符合指定的準則的最小和最大範圍。  
  
4. 針對**最大遺漏值比率**，指定要執行的作業有的遺漏值的數目上限。   
  
    比方說，您可能想要執行的遺漏值替代，只有當 30%或更少的資料列包含遺漏值，但保留做為值-如果超過 30%的資料列有遺漏值。  
  
    您可以定義數目的資料行中的所有值的遺漏值比率。 根據預設，**最大遺漏值比率**設為 1。 這表示即使 100%的資料行的值會遺失，就會清除遺漏值。  
  
   
  
5. 針對**清除模式**中，選取其中一個下列選項來取代或移除遺失的值：  
  
  
    + **自訂的替代值**:使用此選項，指定套用至所有遺漏值的預留位置值 （例如 0 或 NA）。 您指定的替代文字的值必須與資料行的資料類型相容。
  
    + **以平均值取代**:計算資料行的平均值，並做為取代值的平均值用於資料行中每個遺漏值。  
  
        僅適用於具有整數、 Double、 資料行或 Boolean 資料類型。  
  
    + **中位數取代**:計算資料行的中間值，並使用的中間值做為取代資料行中的任何遺漏值。  
  
        僅適用於具有整數或雙精度浮點數資料類型的資料行。 
  
    + **以眾數取代**:計算資料行的模式，並使用做為取代值的模式，每個遺漏值的資料行中。  
  
        適用於具有整數、 Double、 布林值或 Categorical 資料類型的資料行。 
  
    + **移除整個資料列**:完全移除資料集中有一或多個遺漏值的任何資料列。 這非常有用，如果遺漏值可視為隨機遺漏。  
  
    + **移除整個資料行**:完全移除任何資料行中有一或多個遺漏值的資料集。  
  
    
  
6. 選項**取代值**如果您已選取選項，就使用**自訂替代值**。 輸入新的值，以作為資料行中的所有遺漏值的取代值。  
  
    請注意，您可以使用此選項只有在具有整數、 Double、 布林或日期資料類型的資料行。 對於日期資料行，將取代值也可以輸入的 100 奈秒刻度數自 0001 年 1/1/上午 12:00  
  
7. **產生遺漏值指標資料行**:如果您想要輸出資料行的值是否符合清除遺漏值的準則一些指示，請選取此選項。 當您要設定新的清除作業，並想要確定其運作方式設計，此選項是特別有用。
  
8. 執行實驗。

### <a name="results"></a>結果

此模組會傳回兩個輸出：  

-   **已清除的資料集**:如果您選取該選項所指定，指標資料行，以及已處理選取的資料行有遺漏值所組成的資料集。  

    未選取要清理的資料行都會也 「 通過 」。  
  
-  **清除轉換**:資料轉換用於清除，可儲存在您的工作區和更新版本套用至新的資料。

### <a name="apply-a-saved-cleaning-operation-to-new-data"></a>將已儲存的清除作業套用至新的資料  

如果您需要經常重複執行清除作業，我們建議您將儲存的資料清理，做為您配方*轉換*、 重複使用相同的資料集。 如果您必須經常重新匯入，然後清除 具有相同的結構描述的資料，儲存清理轉換會特別有用。  
      
1.  新增[套用轉換](./apply-transformation.md)模組至您的實驗。  
  
2.  新增您想要清除的資料集，並將資料集連接的右側輸入連接埠。  
  
3.  依序展開**轉換**介面的左窗格中的群組。 找出已儲存的轉換，並將它拖曳到實驗。  
  
4.  已儲存的轉換連接到的左側輸入連接埠[套用轉換](./apply-transformation.md)。 

    當您套用已儲存的轉換時，您無法選取要套用轉換的資料行。 這是因為轉換已經定義並自動套用到原始作業中指定的資料行。

    不過，假設您的數值資料行子集上建立轉換。 您可以將此轉換套用混合的資料行類型的資料集而不會引發錯誤，因為遺漏的值已變更，只有在比對的數值資料行。

6.  執行實驗。  

## <a name="next-steps"></a>後續步驟

請參閱[可用的模組集](module-reference.md)Azure Machine Learning 服務。 