---
title: K-means 群集：模組參考
titleSuffix: Azure Machine Learning service
description: 了解如何使用 Azure Machine Learning 服務中的 K-means 群集的模組來定型群集模型。
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: xiaoharper
ms.author: zhanxia
ms.date: 05/06/2019
ROBOTS: NOINDEX
ms.openlocfilehash: 7e9b7c8f2cf86245322679198b84b50d2c5edce8
ms.sourcegitcommit: d4dfbc34a1f03488e1b7bc5e711a11b72c717ada
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/13/2019
ms.locfileid: "65464677"
---
# <a name="module-k-means-clustering"></a>模組：K-Means 叢集

這篇文章說明如何使用*K-means 群集*建立未定型的 k-means 群集模型的 Azure Machine Learning Studio 中的模組。 
 
K-means 是一個簡單的方法，最廣為人知*非監督式*學習演算法。 您可以使用此演算法的各種不同的機器學習服務工作，例如： 

* [偵測異常資料](https://msdn.microsoft.com/magazine/jj891054.aspx)。
* 叢集化的文字文件。
* 在使用其他分類或迴歸方法之前，請分析資料集。 

若要建立群集模型中，您：

* 將此模組新增至您的實驗。
* 連接的資料集。
* 設定參數，例如您預期，德距離度量，以用來建立叢集，並繼續下一步的叢集數目。 
  
您已設定的模組超參數後，您會連接到未定型的模型[定型群集模型](train-clustering-model.md)。 K-means 演算法是一種非監督式的學習方法，因為標籤資料行是選擇性的。 

+ 如果您的資料包含標籤，您可以使用的標籤值來引導選取範圍的叢集，並最佳化模型。 

+ 如果您的資料有沒有標籤，此演算法會建立代表可能的類別，只會根據資料的叢集。  

##  <a name="understand-k-means-clustering"></a>了解 k-means 群集
 
一般情況下，叢集資料集內的群組案例分成包含類似特性的群集使用反覆技巧。 這些群組是可用來瀏覽資料、 識別資料中的異常狀況，以及最終來進行預測。 群集模型也可協助您識別您可能無法以邏輯方式衍生的瀏覽] 或 [簡單觀察資料集內的關聯性。 基於這些理由，群集通常用於在機器學習工作的早期階段中探索資料並找出非預期的相關性。  
  
 當您設定叢集模型使用 k-means 方法時，您必須指定目標數字*k*表示數目*距心*您想要在模型中。 距心是代表每個叢集的點。 K-means 演算法會最小化群集內平方總和，將每個連入的資料點指派給一個叢集。 
 
當它處理定型資料時，k-means 演算法就會開始一組初始的隨機選擇的距心。 距心做為起點的叢集，並套用羅依演算法反覆地調整其位置。 K-means 演算法會停止建立及調整群集，符合一或多個條件時：  
  
-   距心穩定，這表示個別點的群集指派不會再變更此演算法已聚合為解決方案。  
  
-   演算法會完成執行指定的反覆運算次數。  
  
 完成訓練階段之後，您會使用[將資料指派給叢集](assign-data-to-clusters.md)指派給新的情況下您使用 k-means 演算法所找到之群集的其中一個模組。 您可以計算新的案例和每個群集的距心之間的距離，以執行叢集指派。 每個新的案例會指派給最接近的距心的叢集。  

## <a name="configure-the-k-means-clustering-module"></a>設定 K-means 群集的模組
  
1.  新增**K-means 群集**模組至您的實驗。  
  
2.  若要指定您想要訓練的模型的方式，請選取**建立定型模式**選項。  
  
    -   **單一參數**:如果您知道您想要在群集模型中使用的確切參數時，您可以提供一組特定的值做為引數。  
  
3.  針對**數字的距心**，輸入您想要開始使用的演算法的群集數目。  
  
     模型不保證能夠產生完全此群集的數目。 演算法的資料點的這個數字開頭，並逐一查看以尋找最適合的設定。  
  
4.  屬性**初始化**用來指定用來定義初始群集組態的演算法。  
  
    -   **前 n 個**:某初始數目的資料點會從資料集選擇，並做為初始的平均數。 
    
         這個方法也稱為*Forgy 法*。  
  
    -   **隨機**:演算法會隨機放置在叢集中的資料點，然後再計算初始平均數，要在叢集的距心隨機指派點。 

         這個方法也稱為*隨機分割區*方法。  
  
    -   **K-+ +** :這是初始化叢集的預設方法。  
  
         **K-+ +** 演算法已提議 2007年中，由 David Arthur 和 Sergei Vassilvitskii 避免標準 k-means 演算法不佳群集。 **K-+ +** 改良，其標準 k-means 選擇初始的群集中心使用不同的方法。  
  
    
5.  針對**隨機號碼種子**，並選擇性地輸入要做為叢集的初始設定為種子的值。 這個值可以有大幅影響叢集的選取項目。  
  
6.  針對**計量**，選擇用於測量叢集向量之間或新的資料點與隨機選擇的距心之間的距離函式。 Azure Machine Learning 支援下列叢集距離度量：  
  
    -   **歐幾里得**:歐幾里得距離常用的群集散佈圖的量值的 k-means 群集。 此為慣用度量，因為它降至最低的點與距心之間的平均距離。
  
7.  針對**反覆項目**，類型的演算法應該反覆運算訓練資料之前它完成選取的距心的次數。  
  
     您可以調整此參數，以平衡精確度針對定型時間。  
  
8.  針對**指派標籤模式**，選擇這個選項可指定標籤資料行，是否存在於資料集，應該如何處理。  
  
     K-means 群集是不受監督的機器學習方法，因為標籤是選擇性的。 不過，如果您的資料集已經有標籤資料行，您可以使用這些值來引導選取叢集，或您可以指定的值會被忽略。  
  
    -   **忽略標籤資料行**:在 [標籤] 資料行的值會忽略，而且不會用於建立模型。
  
    -   **填滿遺漏值**:標籤資料行值做為特徵來幫助您建立叢集。 如果遺漏任何資料列標籤，此值是插補，藉由使用其他功能。  
  
    -   **覆寫從最接近 center**:標籤資料行的值會取代使用目前的距心最接近的點標籤的預測的標籤值。  

8.  選取 **正規化特徵**選項，如果您想要將正規化特徵再進行定型。
  
     如果您套用正規化，定型之前，資料點會正規化為`[0,1]`由 MinMaxNormalizer。

10. 定型模型。  
  
    -   如果您設定**建立定型模式**要**單一參數**，加入標記的資料集，並使用定型模型[定型群集模型](train-clustering-model.md)模組。  
  
### <a name="results"></a>結果

完成設定，並定型模型之後，您會有一個模型，您可以使用來產生分數。 不過，有多種方式可用來定型模型，以及檢視，並使用結果的多個方法： 

#### <a name="capture-a-snapshot-of-the-model-in-your-workspace"></a>擷取您的工作區中的模型的快照集

如果您使用[定型群集模型](train-clustering-model.md)模組：

1. 以滑鼠右鍵按一下**定型群集模型**模組。

2. 選取  **Trained 模型**，然後選取**儲存為訓練模型**。

已儲存的模型在您儲存模型時，表示定型資料。 如果您稍後會更新在實驗中使用的定型資料，它不會更新已儲存的模型。 

#### <a name="see-the-clustering-result-dataset"></a>請參閱群集的結果資料集 

如果您使用[定型群集模型](train-clustering-model.md)模組：

1. 以滑鼠右鍵按一下**定型群集模型**模組。

2. 選取 **結果資料集**，然後選取**視覺化**。

### <a name="tips-for-generating-the-best-clustering-model"></a>產生的群集模型的最佳秘訣  

它已知*植入*會使用於叢集的程序會大幅影響模型。 植入表示到潛在的距心點的初始位置。
 
比方說，如果資料集包含許多極端值，而且是極端值被選來植入群集，沒有其他資料點會完全符合該叢集中，和叢集可能是單一值。 也就是說，它可能只有一個點。  
  
您可以避免這個問題在幾種方式：  
  
-   變更距心數目然後再次嘗試多個識別值種子值。  
  
-   建立多個不同的計量或逐一查看更多的模型。  
  
一般情況下，使用群集模型，就可以任何指定的設定會導致一組最佳化在本機叢集。 換句話說，傳回模型的叢集組適合只有目前的資料點，而且不歸類到其他資料。 如果您使用不同的初始組態，k-means 方法可能會發現不同或許是更好的組態。 
