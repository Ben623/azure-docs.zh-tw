---
title: Azure 資訊安全中心中的雲端原生運算威脅偵測 |Microsoft Docs
description: 本文提供 Azure 資訊安全中心中提供的雲端原生計算警示。
services: security-center
documentationcenter: na
author: memildin
manager: rkarlin
ms.assetid: 5aa5efcf-9f6f-4aa1-9f72-d651c6a7c9cd
ms.service: security-center
ms.devlang: na
ms.topic: conceptual
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 11/05/2019
ms.author: memildin
ms.openlocfilehash: 6b6acb0ae1452795fe02906779b920e4b41f9a55
ms.sourcegitcommit: 827248fa609243839aac3ff01ff40200c8c46966
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 11/07/2019
ms.locfileid: "73748403"
---
# <a name="threat-detection-for-cloud-native-computing-in-azure-security-center"></a>Azure 資訊安全中心中的雲端原生運算威脅偵測

做為原生解決方案，Azure 資訊安全中心對於跨多個目標的攻擊方法識別，有獨特的內部記錄可見度。 本文提供適用于下列 Azure 服務的警示：

* [Azure App Service](#app-services)
* [Azure 容器](#azure-containers) 

> [!NOTE]
> 這些服務目前無法在 Azure 政府和主權雲端區域中使用。

## Azure App Service<a name="app-services"></a>

資訊安全中心使用雲端的規模來識別以 App Service 執行之應用程式為目標的攻擊。 攻擊者會探查 web 應用程式，以找出併入侵弱點。 在路由傳送至特定環境之前，對 Azure 中執行之應用程式的要求會經歷數個閘道，並在其中進行檢查和記錄。 接著會使用此資料來識別入侵和攻擊者，並瞭解稍後將使用的新模式。

藉由使用 Azure 做為雲端提供者的可見度，資訊安全中心分析 App Service 內部記錄，以識別多個目標的攻擊方法。 例如，方法包含廣泛的掃描和分散式攻擊。 這種類型的攻擊通常來自于一小部分的 Ip，並顯示在多部主機上編目至類似端點的模式。 攻擊會搜尋易受攻擊的頁面或外掛程式，而無法從單一主機的觀點來識別。

資訊安全中心也可以存取基礎沙箱和 Vm。 除了記憶體的辯論外，基礎結構也可以告訴故事，從攻擊者的新攻擊，到客戶電腦的危害。 因此，即使在惡意探索 web 應用程式之後部署資訊安全中心，它還是可能能夠偵測到進行中的攻擊。

> [!div class="mx-tableFixed"]

|警示|描述|
|---|---|
|**偵測到可疑的 WordPress 主題調用**|App Service 活動記錄指出您 App Service 資源上可能的程式碼插入活動。<br/> 此可疑活動類似于操作 WordPress 主題以支援伺服器端程式碼執行的活動，接著是直接的 web 要求，用來叫用操作的主題檔案。 這種類型的活動可以是透過 WordPress 的攻擊活動的一部分。|
|**偵測到從異常 IP 位址到網頁的連線**|[App Service 活動記錄] 表示與先前從未連接過之來源位址的機密網頁連接。 此連接可能表示有人正嘗試對您的 web 應用程式管理頁面進行暴力密碼破解攻擊。 這也可能是合法使用者使用新 IP 位址的結果。|
|**在威脅情報中找到連線到您 Azure App Service FTP 介面的 IP**|App Service FTP 記錄分析偵測到從威脅情報摘要中找到的來源位址連接。 在此連接期間，使用者會存取列出的頁面。|
|**偵測到 Web 指紋**|App Service 活動記錄指出您 App Service 資源上可能的 web 指紋活動。 <br/>此可疑活動與稱為「盲人大象」的工具相關聯。 工具指紋 web 伺服器，並嘗試偵測已安裝的應用程式及其版本。 攻擊者通常會使用此工具來探查 web 應用程式，以找出弱點。|
|**偵測到可能有弱點之 web 網頁的可疑存取**|App Service 活動記錄表示已存取看似機密的網頁。 <br/>此可疑活動源自其存取模式類似于 web 掃描器的來源位址。 這類活動通常會與攻擊者嘗試掃描您的網路以嘗試存取敏感性或易受攻擊的網頁相關聯。|
|**上傳資料夾中的 PHP 檔案**|App Service 活動記錄指出有某個專案已存取上傳資料夾中的可疑 PHP 頁面。 <br/>這種類型的資料夾通常不會包含 PHP 檔案。 存在此類型的檔案可能表示利用了任意檔案上傳弱點的攻擊。|
|**嘗試在 Windows App Service 上執行 Linux 命令**|分析 App Service 處理常式偵測到嘗試在 Windows App Service 上執行 Linux 命令。 此動作正由 web 應用程式執行。 在惡意探索通用 web 應用程式中的弱點的行銷活動期間，通常會出現這種行為。|
|**偵測到可疑的 PHP 執行**|電腦記錄表示可疑的 PHP 進程正在執行。 此動作包含嘗試從命令列執行作業系統命令或 PHP 程式碼，方法是使用 PHP 進程。 雖然此行為可能是合法的，但在 web 應用程式中，這種行為可能表示惡意活動，例如嘗試使用 web shell 來感染網站。|
|**從暫存資料夾執行進程**|App Service 進程分析偵測到從應用程式的暫存資料夾執行進程。 雖然此行為可能是合法的，但在 web 應用程式中，這種行為可能表示惡意活動。|
|**偵測到嘗試執行高許可權命令**|分析 App Service 處理常式偵測到嘗試執行需要高許可權的命令。 命令會在 web 應用程式內容中執行。 雖然此行為可能是合法的，但在 web 應用程式中，這種行為可能表示惡意活動。|

## Azure 容器<a name="azure-containers"></a>

資訊安全中心為您的容器化環境提供即時威脅偵測，並產生可疑活動的警示。 您可以使用這項資訊來快速修復安全性問題，並改善您容器的安全性。

我們偵測到不同層級的威脅： 

* **主機層級**-資訊安全中心的代理程式（適用于標準層，如需詳細資訊，請參閱[定價](security-center-pricing.md)）監視 Linux 是否有可疑的活動。 代理程式會觸發源自節點或在其上執行之容器的可疑活動警示。 這類活動的範例包括 web 命令介面偵測，以及與已知可疑 IP 位址的連線。

    若要深入瞭解容器化環境的安全性，代理程式會監視容器特有的分析。 它會觸發事件的警示，例如建立許可權的容器、對 API 伺服器的可疑存取，以及在 Docker 容器內執行的安全殼層（SSH）伺服器。

    >[!NOTE]
    > 如果您選擇不在您的主機上安裝代理程式，您只會收到威脅偵測權益和警示的子集。 您仍然會收到與網路分析以及與惡意伺服器通訊相關的警示。

* 針對**AKS 叢集層級**，會根據 Kubernetes audit logs 分析來監視威脅偵測。 若要啟用此**無代理**程式監視，請從 [**定價 & 設定**] 頁面將 [Kubernetes] 選項新增至您的訂用帳戶（請參閱[定價](security-center-pricing.md)）。 若要在此層級產生警示，資訊安全中心使用 AKS 所取出的記錄來監視 AKS 管理的服務。 此層級的事件範例包括公開的 Kubernetes 儀表板、建立高特殊許可權的角色，以及建立敏感性裝載。

    >[!NOTE]
    > 資訊安全中心會針對在訂用帳戶設定上啟用 Kubernetes 選項後發生的 Azure Kubernetes Service 動作和部署產生偵測警示。 

此外，我們的全球安全性研究人員小組會持續監視威脅的範圍。 他們會在探索到容器特有的警示和弱點時加以新增。


### <a name="aks-cluster-level-alerts"></a>AKS 叢集層級警示

> [!div class="mx-tableFixed"]

|警示|描述|
|---|---|
|**預覽-偵測到叢集的角色系結-系統管理員角色**|Kubernetes audit 記錄分析偵測到叢集管理員角色的新系結，因而導致系統管理員許可權。 不必要地提供系統管理員許可權可能會導致叢集中的許可權擴大問題。|
|**預覽-偵測到公開的 Kubernetes 儀表板**|Kubernetes audit 記錄分析偵測到 LoadBalancer 服務發現 Kubernetes 儀表板的曝光。 公開的儀表板允許未經驗證的叢集管理存取，並造成安全性威脅。|
|**預覽-偵測到新的高許可權角色**|Kubernetes audit 記錄分析偵測到具有高許可權的新角色。 具有高許可權的角色系結，可讓使用者/群組在叢集中具有更高的許可權。 不必要地提供較高的許可權，可能會導致叢集中的許可權擴大問題。|
|**預覽-偵測到 kube-系統命名空間中的新容器**|Kubernetes audit 記錄分析偵測到 kube 系統命名空間中的新容器，不在通常于此命名空間中執行的容器。 Kube 系統命名空間不應包含使用者資源。 攻擊者可以使用此命名空間來隱藏惡意元件。|
|**預覽-偵測到數位貨幣挖掘容器**|Kubernetes audit 記錄分析偵測到具有與數位貨幣挖掘工具相關聯之影像的容器。|
|**預覽-偵測到有許可權的容器**|Kubernetes audit 記錄分析偵測到新的特殊許可權容器。 有許可權的容器可以存取節點的資源，並中斷容器之間的隔離。 如果遭到入侵，攻擊者可以使用具特殊許可權的容器來取得節點的存取權。|
|**預覽-偵測到具有敏感磁片區掛接的容器**|Kubernetes audit 記錄分析偵測到具有敏感磁片區掛接的新容器。 偵測到的磁片區是一種 hostPath 類型，可將敏感的檔案或資料夾從節點掛接到容器。 如果容器遭到入侵，攻擊者可以使用此掛接來取得節點的存取權。|



### <a name="host-level-alerts"></a>主機層級警示

> [!div class="mx-tableFixed"]

|警示|描述|
|---|---|
|**偵測到具有特殊許可權的容器**|電腦記錄表示有許可權的 Docker 容器正在執行。 特殊許可權容器具有主機資源的完整存取權。 如果遭到入侵，攻擊者可以使用具特殊許可權的容器來取得主機電腦的存取權。|
|**在容器中執行的特殊許可權命令**|電腦記錄表示已在 Docker 容器中執行特殊許可權命令。 具有許可權的命令在主機電腦上具有擴充許可權。|
|**偵測到公開的 Docker daemon**|電腦記錄指出您的 Docker daemon （dockerd）會公開 TCP 通訊端。 根據預設，啟用 TCP 通訊端時，Docker 設定不會使用加密或驗證。 具有相關埠存取權的任何人，都可以取得 Docker daemon 的完整存取權。|
|**SSH 伺服器正在容器內執行**|電腦記錄表示 SSH 伺服器正在 Docker 容器內執行。 雖然這種行為是刻意的，但通常會指出容器的設定不正確或遭到入侵。|
|**偵測到具有 miner 映射的容器**|機器記錄指出執行的 Docker 容器，是與數位貨幣挖掘建立關聯的映射。 這種行為可能表示您的資源被濫用。|
|**Kubernetes API 的可疑要求**|機器記錄表示對 Kubernetes API 提出了可疑的要求。 要求是從 Kubernetes 節點（可能是從節點中執行的其中一個容器）傳送。 雖然此行為可能是刻意的，但可能表示節點正在執行遭入侵的容器。|
|**對 Kubernetes 儀表板的可疑要求**|電腦記錄表示已對 Kubernetes 儀表板提出可疑的要求。 要求是從 Kubernetes 節點（可能是從節點中執行的其中一個容器）傳送。 雖然此行為可能是刻意的，但可能表示節點正在執行遭入侵的容器。|