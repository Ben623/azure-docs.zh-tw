---
title: 來自 Microsoft 標準規則引擎動作的 Azure CDN |Microsoft Docs
description: 來自 Microsoft 標準規則引擎動作之 Azure CDN 的參考檔。
services: cdn
author: mdgattuso
ms.service: azure-cdn
ms.topic: article
ms.date: 11/01/2019
ms.author: magattus
ms.openlocfilehash: dbde93cc7ffd21e341653407e6e4f910e4620974
ms.sourcegitcommit: b2fb32ae73b12cf2d180e6e4ffffa13a31aa4c6f
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 11/05/2019
ms.locfileid: "73615984"
---
# <a name="azure-cdn-from-microsoft-standard-rules-engine-actions"></a>來自 Microsoft 的 Azure CDN 標準規則引擎動作

本文會針對來自 Microsoft [Standard 規則引擎](cdn-standard-rules-engine.md)的 Azure 內容傳遞網路（CDN），列出其可用動作的詳細說明。

規則的第二個部分是動作。 「動作」（action）會定義套用至由一組比對條件所識別之要求類型的行為。

## <a name="actions"></a>動作

下列動作可供使用。 

## <a name="cache-expiration"></a>快取到期

此動作可讓您覆寫規則比對條件所指定之要求的端點 TTL。

**必要欄位**

快取行為 |                
---------------|----------------
略過快取 | 選取此選項且規則符合時，將不會快取內容。
覆寫 | 選取此選項且規則符合時，將會以動作中指定的值來覆寫從來源傳回的 TTL 值。
如果遺漏則設定 | 選取此選項且規則符合時，如果沒有從來源傳回的 TTL 值，此規則會將 TTL 設定為動作中指定的值。

**其他欄位**

星期幾 | 小時 | 分鐘 | 秒
-----|-------|---------|--------
Int | Int | Int | Int 

## <a name="cache-key-query-string"></a>快取索引鍵查詢字串

此動作可讓您根據查詢字串修改快取索引鍵。

**必要欄位**

行為 | 說明
---------|------------
包含 | 選取此選項且規則符合時，會在產生快取索引鍵時包含參數中指定的查詢字串。 
快取每個唯一的 URL | 選取此選項且規則符合時，每個唯一的 URL 都會有自己的快取索引鍵。 
排除 | 選取此選項且規則符合時，會在產生快取索引鍵時排除參數中指定的查詢字串。
忽略查詢字串 | 選取此選項且規則符合時，產生快取索引鍵時不會考慮查詢字串。 

## <a name="modify-request-header"></a>修改要求標頭

此動作可讓您修改傳送至原始來源的要求中出現的標頭。

**必要欄位**

行動 | HTTP 標頭名稱 | 值
-------|------------------|------
Append | 選取此選項且規則符合時，會將 [標頭名稱] 中指定的標頭新增至具有指定值的要求。 如果標頭已存在，則會將值附加至現有的值。 | 字串
覆寫 | 選取此選項且規則符合時，會將 [標頭名稱] 中指定的標頭新增至具有指定值的要求。 如果標頭已存在，此值會覆寫現有的值。 | 字串
刪除 | 選取此選項且規則符合，且規則中指定的標頭存在時，就會從要求中刪除。 | 字串

## <a name="modify-response-header"></a>修改回應標頭

此動作可讓您修改傳回給您的終端用戶端的回應中出現的標頭

**必要欄位**

行動 | HTTP 標頭名稱 | 值
-------|------------------|------
Append | 選取此選項且規則符合時，會將 [標頭名稱] 中指定的標頭新增至具有指定值的回應中。 如果標頭已存在，則會將值附加至現有的值。 | 字串
覆寫 | 選取此選項且規則符合時，會將 [標頭名稱] 中指定的標頭新增至具有指定值的回應中。 如果標頭已存在，此值會覆寫現有的值。 | 字串
刪除 | 選取此選項且規則符合，且規則中指定的標頭存在時，就會從回應中刪除。 | 字串

## <a name="url-redirect"></a>[URL 重新導向]

此動作可讓您將終端用戶端重新導向至新的 URL。 

**必要欄位**

欄位 | 說明 
------|------------
類型 | 選取將傳回給要求者的回應類型。 選項為-302、301移動、307暫時重新導向和308永久重新導向
通訊協定 | 符合要求、HTTP 或 HTTPS
主機名稱 | 選取要將要求重新導向至的主機名稱。 保留空白以保留傳入的主機。
路徑 | 定義要在重新導向中使用的路徑。 保留空白以保留傳入路徑。  
查詢字串 | 定義重新導向中使用的查詢字串。 保留空白以保留傳入的查詢字串。 
片段 | 定義要在重新導向中使用的片段。 保持空白會保留傳入的片段。 

強烈建議使用絕對 URL。 使用相對 URL 可能會將 CDN URL 重新導向至不正確的路徑。 

## <a name="url-rewrite"></a>URL 重寫

此動作可讓您將要求的路徑重寫為來源的路由。

**必要欄位**

欄位 | 說明 
------|------------
來源模式 | 在要取代的 URL 路徑中定義來源模式。 目前，來源模式會使用以首碼為基礎的相符項。 若要符合所有 URL 路徑，請使用 "/" 作為來源模式值。
目的地 | 定義要在重寫中使用的目的地路徑。 這會覆寫來源模式
保留不相符的路徑 | 若為 [是]，則來源模式後面的剩餘路徑將會附加至新的目的地路徑。 


[回到頁首](#actions)

</br>

## <a name="next-steps"></a>後續步驟

- [Azure 內容傳遞網路概觀](cdn-overview.md)
- [規則引擎參考](cdn-standard-rules-engine-reference.md)
- [規則引擎比對條件](cdn-standard-rules-engine-match-conditions.md)
- [使用標準規則引擎強制執行 HTTPS](cdn-standard-rules-engine.md)
